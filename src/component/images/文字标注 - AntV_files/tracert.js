!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=r(o),a=n(7),c=r(a),s=n(11),u=r(s),l=n(4),f=r(l),d=n(13),p=r(d),h=n(16),m=r(h),v=n(6),g=r(v),y=n(5),b=r(y),w=n(12),x=r(w),S=n(14),k=r(S),I=n(15),P=r(I),_={};_.web=c.default,_.autoLogPv=u.default,_.bucName=f.default,_.layout=p.default,_.timeOnPage=m.default,_.fullfillRef=g.default,_.clientSession=b.default,_.clickAndExpo=x.default,_.meta=k.default,_.performance=P.default;var T=window;if(!T.Tracert||T.Tracert._isInit||T.Tracert._isRenderInit){if(window.TracertCmdCache&&window.TracertCmdCache.length)for(var E=0;E<window.TracertCmdCache.length;E++){var O=window.TracertCmdCache[E];if(O&&"start"===O[0]&&O[1]&&O[1].disabledPlugins&&O[1].disabledPlugins.length)for(var j=O[1].disabledPlugins,C=0;C<j.length;C++)delete _[j[C]]}var A=new i.default;A.setSysInfo({v:"1.0.24"});var L=[];for(var B in _)_.hasOwnProperty(B)&&L.push(_[B]);A.loadPlugins(L),T.Tracert=A}t.default=T.Tracert,e.exports=t.default},function(e,t){"use strict";function n(e,t,n){var r=t||window.document;r.addEventListener?r.addEventListener(e,n,!0):r.attachEvent?r.attachEvent("on".concat(e),n):r[e]=n}function r(e,t,n){var r=t||window.document;r.removeEventListener?r.removeEventListener(e,n,!0):r.detachEvent?r.detachEvent("on".concat(e),n):r[e]=n}function o(e,t){var n,r=this,o=arguments;return function(){var i=r,a=o,c=function(){n=null,e.apply(i,a)};clearTimeout(n),n=setTimeout(c,t)}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){"interactive"===document.readyState||"complete"===document.readyState?e():n("DOMContentLoaded",document,e)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return"requestIdleCallback"in window?f(e,{timeout:t}):setTimeout(e)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={};for(var r in e)if(e.hasOwnProperty(r)){var o=0===r.indexOf(t)?r:t+r;n[o]=e[r]}return n}function p(e,t){var n=e||{};for(var r in t)t.hasOwnProperty(r)&&void 0!==t[r]&&(n[r]=t[r]);return n}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.search;if(!e)return"";var n="",r=window.AlipayJSBridge;try{var o=new RegExp("(?=\\?|\\&|\\b|^)".concat(e,"\\=(.+?)(?=\\&|$)"));n=o.exec(t),n=n?"".concat(n[1]):"",n=decodeURIComponent(n)}catch(e){console.warn(e)}return""===n&&(n=r&&r.startupParams&&r.startupParams[e]),n}function m(e){var t=e||window.navigator.userAgent,n=function(e){var n=new RegExp("aliapp\\(".concat(e),"i");return n.test(t)};if(!n("ap"))return 0;var r=/alipayclient\/(\d+)\.?(\d+)?\.?(\d+)?/i.exec(t),o=0;if(r){var i=r[1]||0,a=r[2]||0,c=r[3]||0;+a<10&&(a="0".concat(a)),+c<10&&(c="0".concat(c)),o=parseFloat("".concat(i,".").concat(a).concat(c))}return o}function v(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"^",r=[];if(e instanceof Array)r=e;else if(e instanceof Object)for(t in e)e.hasOwnProperty(t)&&r.push("".concat(t,"=").concat(e[t]));return r.join(n)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"^";if("string"!=typeof e)return null;var n=e.split(t);if(e.indexOf("=")===-1)return n;for(var r,o,i=n.length,a={},c=0;c<i;c++)r=n[c],r&&(o=r.split("="),a[o[0]]=o[1]||"");return a}function y(e,t){var n=e||{},r=t||{};if(!r.spmId||"mergeExpose"!==r.actionId)return n;var o=r.spmId.split(".");if(3===o.length){var i=r.spmId;n[i]||(n[i]={},n[i]=W({},r))}return n}function b(e,t){var n=e||{},r=t||{};if(!r.spmId||"mergeExpose"!==r.actionId)return null;var o=r.spmId.split(".");if(3===o.length){var i=r.spmId;n[i]||(n[i]={});var a="";r.param4&&r.param4.rid?(a=r.param4.rid,delete r.param4.rid):a="",n[i][a]?n[i][a].push(r.param4):(n[i][a]=[],n[i][a].push(r.param4))}return n}function w(e,t){var n=[],r=["fullURL","mBizScenario","mPageState","mPageName","version"];if("object"===i(e))for(var o in e)if(e.hasOwnProperty(o)){var a={};t?a=W(a,t[o]):(a.spmId=o,a.actionId="mergeExpose");var c=[];if(e[o].options)a.param4=F(e[o].options.param4);else{for(var s in e[o])if(e[o].hasOwnProperty(s)){for(var u=[],l=e[o][s],f=0;f<l.length;f++){var d=[],p=l[f];for(var h in p)p.hasOwnProperty(h)&&r.indexOf(h)===-1&&d.push("".concat(h,"|").concat(p[h]));u.push(d.join(";"))}c.push("rid|".concat(s,":").concat(u.join("&")))}a.param4="exposed=".concat(c.join("__"))}n.push(a)}return n}function x(e){var t,n;try{return t=[].slice.call(e)}catch(o){t=[],n=e.length;for(var r=0;r<n;r++)t.push(e[r]);return t}}function S(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""}function k(e){return null!==e&&"object"===i(e)&&1===e.nodeType}function I(e){return!(!e||!k(e)||e===document.body||e===document.documentElement)}function P(e){for(var t,n,r,o,i,a=x(e||document.getElementsByTagName("meta")),c=a.length,s=0;s<c;s++){switch(t=a[s],n=S(t,"name"),r=S(t,"content"),n){case q:i=r;break;case"data-bizType":o=r}if(i&&o)break}var u={};return i&&(u.spmAPos=i),o&&(u.bizType=o),u}function _(){var e=S(document.body,q);return e}function T(e){var t=e;if(!I(t))return"";for(var n="";t&&t!==document.body&&!(n=S(t,q));)t=t.parentNode;return n}function E(e){var t=e;if(!I(t))return"null";do if(J.test(t.tagName)||t.hasAttribute(K))return t;while((t=t.parentNode)&&t&&t.tagName&&"BODY"!==t.tagName&&t!==document.body&&!S(t,q));return null}function O(e){var t=e;if(!I(t))return"";if(J.test(t.tagName)||t.hasAttribute(K)||(t=E(t)),!t)return"";var n=S(t,K),r=t.tagName;if(("string"==typeof n||J.test(r))&&!n){var o=0,i=t;do k(i)&&r===i.tagName&&o++,i=i.previousSibling;while(i);n=o}return"".concat(n)}function j(e){var t=e&&e.getAttribute?e.getAttribute("data-aspm-param")||"":"",n={};if(t){var r=t.split("^");if(t.indexOf("=")===-1)n=r;else for(var o,i,a=r.length,c=0;c<a;c++)o=r[c],o&&(i=o.split("="),n[i[0]]=i[1]||"")}return n}function C(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pagename",t=x(window.document.getElementsByTagName("meta")),n="",r=0;r<t.length;r++){var o=t[r],i=S(o,"name"),a=S(o,"content");if(a&&i&&i===e){n=a;break}}return n}function A(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function L(e){function t(n,r,o){var i;if("undefined"!=typeof document){if(arguments.length>1){if(o=A({path:"/"},t.defaults,o),"number"==typeof o.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}o.expires=o.expires?o.expires.toUTCString():"";try{i=JSON.stringify(r),/^[\{\[]/.test(i)&&(r=i)}catch(e){}r=e.write?e.write(r,n):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape);var c="";for(var s in o)o[s]&&(c+="; "+s,o[s]!==!0&&(c+="="+o[s]));return document.cookie=n+"="+r+c}n||(i={});for(var u=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,f=0;f<u.length;f++){var d=u[f].split("="),p=d.slice(1).join("=");this.json||'"'!==p.charAt(0)||(p=p.slice(1,-1));try{var h=d[0].replace(l,decodeURIComponent);if(p=e.read?e.read(p,h):e(p,h)||p.replace(l,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(n===h){i=p;break}n||(i[h]=p)}catch(e){}}return i}}return t.set=t,t.get=function(e){return t.call(t,e)},t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(e,n){t(e,"",A(n,{expires:-1}))},t.withConverter=L,t}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=window.localStorage&&window.localStorage.getItem(e)||V.get(e,t);if(V.get(e,t)&&window.localStorage)try{window.localStorage.setItem(e,n),V.remove(e,t)}catch(e){console&&console.warn&&console.warn("localstorage error")}return n}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&t.length>=400&&(n.cookie||!window.localStorage))return void(console&&console.warn&&console.warn("Tracert cookie set too long"));if(window.localStorage)try{window.localStorage.setItem(e,t)}catch(r){V.set(e,t,n)}else V.set(e,t,n)}function U(e,t){window.localStorage&&window.localStorage.removeItem(e),V.remove(e,t)}function D(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function R(e){var t=e.split("//"),n=t[0],r=t[1]||"",o=r.split("/"),i=o[0],a=i.split(":"),c=a[0],s=a[1]||"",u=r.replace(i,""),l=u.split("#"),f=l[0],d=l[1]||"",p=d?"#".concat(d):null,h=f.split("?"),m=h[0],v=h[1]||"",g=v?"?".concat(v):null,y={protocol:n,slashes:!0,auth:null,host:i,port:s||null,hostname:c,hash:p,search:g,query:v||null,pathname:m,path:f,href:e,format:function(){return"".concat(y.protocol,"//").concat(y.host).concat(y.path).concat(y.hash||"")}};return y}Object.defineProperty(t,"__esModule",{value:!0});var M="_TRACERT_COOKIE_",H={load:l,requestIdleCallback:f,dealExtra:d,objectAssign:p,getValue:h,getApFloatVersion:m,cookiesPrefix:M},z={objToStr:v,strToObj:g},W=H.objectAssign,F=z.objToStr,q="data-aspm",K="data-aspm-click",J=/^a|area$/i,V=L(function(){}),G=function(){function e(){a(this,e)}return s(e,[{key:"set",value:function(){var e=[].slice.call(arguments);e.length>=2?this._set(u({},e[0],e[1]),e[2]||{}):this._set(e)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="".concat(M,"_").concat(e),o=B(r,t);return n&&U(r),o}},{key:"_set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&0!==Object.keys(e).length)for(var n in e)if(e.hasOwnProperty(n)){var r="".concat(M,"_").concat(n);N(r,e[n],t)}}}]),e}(),Q=new G,$={parse:R},Y=function(){function e(){a(this,e),this._iframe=null}return s(e,[{key:"initIframe",value:function(){if(this._iframe)return this._iframe;var e=document.createElement("iframe");return e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.left="-100px",e.style.bottom="-100px",e.style.width="-100px",e.setAttribute("src","https://tracert.alipay.com/cross.html"),e.onload=function(){e.style.display="none"},document.body.appendChild(e),e}}]),e}(),X=new Y;t.Cookies=V,t.CrossIframe=X,t.addEvent=n,t.addMexOption=y,t.addToExObj=b,t.cookiesPrefix=M,t.dealExtra=d,t.debounce=o,t.formatExObj=w,t.getApFloatVersion=m,t.getAttr=S,t.getDPosDom=E,t.getDomParam=j,t.getMetaPageName=C,t.getMetaSpm=P,t.getSpmBPos=_,t.getSpmCPos=T,t.getSpmDPos=O,t.getValue=h,t.isDom=k,t.isViewDom=I,t.load=l,t.nodeListToArray=x,t.objToStr=v,t.objectAssign=p,t.removeEvent=r,t.requestIdleCallback=f,t.storage=Q,t.strToObj=g,t.url=$,t.uuid=D},function(e,t){function n(){var e,t=[],n=!0;for(var r in p)p.hasOwnProperty(r)&&(n=!1,e=p[r]||"",t.push(f(r)+u+f(e)));i.name=n?o:a+f(o)+s+t.join(l)}function r(e,t,n){e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(t){n.call(e,t)}))}var o,i=window,a="nameStorage:",c=/^([^=]+)(?:=(.*))?$/,s="?",u="=",l="&",f=encodeURIComponent,d=decodeURIComponent,p={},h={};!function(e){if(e&&0===e.indexOf(a)){var t=e.split(/[:?]/);t.shift(),o=d(t.shift())||"";for(var n,r,i,s=t.join(""),u=s.split(l),f=0,h=u.length;f<h;f++)n=u[f].match(c),n&&n[1]&&(r=d(n[1]),i=d(n[2])||"",p[r]=i)}else o=e||""}(i.name),h.setItem=function(e,t){e&&"undefined"!=typeof t&&(p[e]=String(t),n())},h.getItem=function(e){return p.hasOwnProperty(e)?p[e]:null},h.removeItem=function(e){p.hasOwnProperty(e)&&(p[e]=null,delete p[e],n())},h.clear=function(){p={},n()},h.valueOf=function(){return p},h.toString=function(){var e=i.name;return 0===e.indexOf(a)?e:a+e},r(i,"beforeunload",function(){n()}),i.nameStorage=h,e.exports=h},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e){return p(e)||h(e)||v()}function f(e){return d(e)||h(e)||m()}function d(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function p(e){if(Array.isArray(e))return e}function h(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var g=n(1),y=function(e){console&&console.warn&&console.warn("Tracert deprecated\uff1a".concat(e))},b=document,w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e);var n={autoLogPv:!0,eventType:"click",autoExpo:!1,bizType:"H5behavior",state:"",name:"",logLevel:"2",mdata:{},seedIdPrefix:"",seedIdSuffix:"",spmAPos:"",spmBPos:"",bizScenario:g.getValue("bizScenario")||"",paramPrefix:"",debug:!1,server:"",lastClkSpm:"",url:location.href.split(/\?|#|;jsessionid=/)[0],referSPM:"",srcSpm:"",sessionIdKey:"tracert-session-key",seedIdCfg:{pageSeedId:"H5_MTRACKER_AP_PAGE",clkSeedId:"H5_MTRACKER_AP_CLK",calcSeedId:"H5_MTRACKER_AP_CALC",expoSeedId:"H5_MTRACKER_AP_EXPO",syslogSeedId:"H5_MTRACKER_AP_SYSLOG"},_plugins:[],platformType:"",ready:!1,apiCashList:[],timeMap:{},expoOnce:!1,_wap_intervalEx:400,_wap_interval:300,_wap_mgObjIndex:0,_wap_exObjIndex:0,_wap_mgTdObjIndex:0,_expoMergeItvObj:0,hasExpoMerge:!1,fmtedExObjArr:[],fmtedExObj:{},fmtedExOptions:{},cacheExObjArr:[],cacheMrExObjArr:[],expotTimeout:300,expoObj:{},expoType:function(e){var t=!1,n=function n(){t||(t=!0,g.removeEvent("scroll",b,n),setTimeout(function(){t=!1,g.addEvent("scroll",b,n)},300),e())};g.addEvent("scroll",b,n)},expoSection:[-.3,.3],_beforeEvObj:{logPv:[],click:[],expo:[],set:[],send:[]},_afterEvObj:{start:[],logPv:[],click:[],expo:[]},_pluginLoadCnt:0,sysInfo:{}};g.objectAssign(n,t),g.objectAssign(this,n);var r=window.TracertCmdCache;if(r&&r.length)for(var i=0;i<r.length;i++){var a=[].slice.call(r[i]),c=l(a),s=c[0],u=c.slice(1);this.call.apply(this,[s].concat(f(u)))}this._start()}return a(e,[{key:"before",value:function(e,t){var n=this._beforeEvObj;if(!n[e])throw new Error("\u76ee\u6807\u65b9\u6cd5\u4e0d\u652f\u6301\u8be5\u4e8b\u4ef6");if("function"!=typeof t)throw new Error("\u76d1\u542c\u5668\u4e0d\u662f\u51fd\u6570");n[e].push(t)}},{key:"_runBeforeFns",value:function(e,t){var n=this._beforeEvObj[e]||[];if(!n||!n.length)return!0;for(var r=0;r<n.length;r++){var o=n[r].call(this,t);if(o===!1)return console&&console.debug&&console.debug("Tracert before fns: ".concat(e," stop propagation")),!1}return!0}},{key:"after",value:function(e,t){var n=this._afterEvObj;if(!n[e])throw new Error("\u76ee\u6807\u65b9\u6cd5\u4e0d\u652f\u6301\u8be5\u4e8b\u4ef6");if("function"!=typeof t)throw new Error("\u76d1\u542c\u5668\u4e0d\u662f\u51fd\u6570");return"start"===e&&this.ready?void t():void n[e].push(t)}},{key:"_runAfterFns",value:function(e,t){var n=this._afterEvObj[e]||[];if(n&&n.length)for(var r=0;r<n.length;r++)n[r].call(this,t)}},{key:"init",value:function(){}},{key:"load",value:function(e){g.load(e)}},{key:"onReady",value:function(e){this.ready?e&&e():document.addEventListener("TracertOnReady",function(){e&&e()})}},{key:"_start",value:function(){var e=this,t=function(){e.load(function(){if(!e.ready){var t=g.getMetaSpm();t.spmAPos=e.spmAPos||t.spmAPos,e.spmBPos||(t.spmBPos=g.getSpmBPos()),e.set(t),e.ready=!0;for(var n=0;n<e.apiCashList.length;n++){var r=e.apiCashList[n];e.call.apply(e,r)}e._runAfterFns("start"),e.apiCashList=[]}})};this.pluginReady&&this.started?t():(document.addEventListener("TracertPluginReady",function(){e.started&&t()}),document.addEventListener("TracertStart",function(){e.pluginReady&&t()}))}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.run(e)}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.set(u({},e,{started:!0}));var t=document.createEvent("HTMLEvents");t.initEvent("TracertStart",!0,!0),document.dispatchEvent(t),this.autoLogPv&&this.call("logPv")}},{key:"loadPlugins",value:function(e){if(e&&e.length){this._plugins=e;for(var t=0;t<e.length;t++){var n=e[t];this.loadPlugin(n)}}}},{key:"loadPlugin",value:function(e){var t=this;if(e&&(window["tracert".concat(e)]&&"function"==typeof window["tracert".concat(e)]||"function"==typeof e)){var n="function"==typeof e?e:window["tracert".concat(e)];n(this,function(){if(t._pluginLoadCnt++,t._pluginLoadCnt===t._plugins.length){t.set({pluginReady:!0});var e=document.createEvent("HTMLEvents");e.initEvent("TracertPluginReady",!0,!0),document.dispatchEvent(e)}})}}},{key:"call",value:function(){var e,t=[].slice.call(arguments);if(!t[0]||"run"!==t[0]&&"start"!==t[0]||this.set({started:!0}),this.ready){if(!this[t[0]]||"function"!=typeof this[t[0]])return console.warn("\u672a\u627e\u5230\u65b9\u6cd5\uff1a".concat(t[0])),null;var n=t.slice(1);n=this.optionsHandle(n),e=this[t[0]].apply(this,n)}else this.apiCashList.push(t);return e}},{key:"optionsHandle",value:function(e){return e&&e.length?(e.forEach(function(e){var t=e;t&&(t.spmid&&(t.spmId=t.spmid),t.seedid&&(t.seedId=t.seedid),t.ucid&&(t.ucId=t.ucid))}),e):e}},{key:"get",value:function(e){return this[e]}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e;this._runBeforeFns("set",t),t.eventName&&g.objectAssign(t,{eventType:t.eventName}),"object"===r(t.mdata)&&(t.mdata=u({},this.mdata,{},t.mdata)),g.objectAssign(this,t)}},{key:"getSysInfo",value:function(e){return this.sysInfo[e]}},{key:"setSysInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e;g.objectAssign(this.sysInfo,t)}},{key:"config",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y("\u8bf7\u4f7f\u7528 set \u65b9\u6cd5"),this.set(e)}},{key:"remoteLog",value:function(){}},{key:"logPv",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._runBeforeFns("logPv",e);t&&(this._logPv(e),this._runAfterFns("logPv",e))}},{key:"_logPv",value:function(){}},{key:"report",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=e.spmId;if(n){var o=n.split("."),i=o[0],a=o[1];i&&a&&this.set({spmAPos:i,spmBPos:a})}"object"===r(t)&&this.set({mdata:u({},this.mdata,{},t)}),this.set({_calledLogPv:!!n}),this.call("logPv")}},{key:"pageState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.set({state:e}),this.call("logPv")}},{key:"pageName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";y("\u5df2\u5e9f\u5f03"),this.set({name:e})}},{key:"setPageState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.call("pageState",e)}},{key:"time",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(e),n=this.timeMap;t&&!n[t]&&(n[t]=new Date-0)}},{key:"timeEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(e),n=this.timeMap;if(!t||!n[t])return"";var r=n[t],o=new Date-0-r;return delete n[t],o}},{key:"_goRemotelog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.seedId&&!e.spmId)return void console.warn("\u8bf7\u586b\u5165\u57cb\u70b9seedId\u6216spmId");var t=e.spmId||e.spmid||"",n=t.split("."),o=n.length,i=this.spmAPos,a=this.spmBPos;if(i&&a)switch(o){case 1:case 2:if(""===t)break;if(0!==t.indexOf("c"))break;t=[i,a,t].join(".")}var c={ucId:e.ucId,seedId:e.seedId,spmId:t,actionId:e.actionId,logLevel:e.logLevel||this.logLevel,param4:e.mdata||{}};if(e.type&&(c.type=e.type),e.params&&"object"===r(e.params))if(e.params.length)g.objectAssign(c,{param1:e.params[0]||"",param2:e.params[1]||"",param3:e.params[2]||""});else{var s=e.mdata||{};g.objectAssign(s,e.params),g.objectAssign(c.param4,s)}if(e.timeKey){var u=this.call("timeEnd",e.timeKey);u&&(c.param4.consume=u)}this.call("remoteLog",c)}},{key:"info",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._goRemotelog(e)}},{key:"error",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g.objectAssign(e,{type:"error",actionId:"exception"}),this._goRemotelog(e)}},{key:"click",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={spmId:t,extra:n,options:r},i=this._runBeforeFns("click",o);if(i){var a=n.extraSpmIds;o.extra.extraSpmIds&&delete o.extra.extraSpmIds;var c=o.spmId.split(":"),s=c[1]?{seedDesc:c[1]}:{};g.objectAssign(s,g.dealExtra(o.extra,this.paramPrefix));var l={param1:this.url,param2:c[0],param4:s,seedId:this.seedIdCfg.clkSeedId,actionId:"clicked",spmId:c[0]};g.objectAssign(l,o.options),this.set({lastClkSpm:o.spmId}),this.call("remoteLog",u({},l),!0),a&&a.length&&a.forEach(function(t){e.call("remoteLog",u({},l,{extraPageId:t}),!0)}),this._runAfterFns("click",o)}}},{key:"expo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"up",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={spmId:e,offset:t,extra:n},o=this._runBeforeFns("expo",r);if(o){var i={param1:this.url,param2:r.spmId,param3:r.offset,param4:g.dealExtra(r.extra,this.paramPrefix),seedId:this.seedIdCfg.expoSeedId,actionId:"exposure",spmId:r.spmId};if(this.expoObj=this.expoObj||{},this.expoObj[r.spmId]===!1)return void console.warn("\u8be5\u57cb\u70b9\u5df2\u7ecf\u66dd\u5149\u8fc7\u4e86");this.expoOnce&&(this.expoObj[r.spmId]=!1),this.call("remoteLog",i),this._runAfterFns("expo",r)}}},{key:"calc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y("calc \u5df2\u5e9f\u5f03");var r={param1:this.url,param2:e,param3:t,param4:g.dealExtra(n,this.paramPrefix),seedId:this.seedIdCfg.calcSeedId,actionId:"timestamp"};this.call("remoteLog",r)}}]),e}();e.exports=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e){return c(e)||s(e)||u()}function c(e){if(Array.isArray(e))return e}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(e,t,n){e.postMessage(JSON.stringify({type:t,content:n}),"*")}function f(){return"undefined"!=typeof WeixinJSBridge||!(!window.navigator||!(window.navigator.userAgent.toLowerCase().indexOf("micromessenger")>-1||"undefined"!=typeof window.navigator.wxuserAgent))}var d=n(1),p=d.load,h=d.CrossIframe,m=function(){function e(){var t=this;r(this,e),this.iframe=null,this.iframeLoaded=!1,this.userId=null,this.pending=!1,this.queue=[],this.cachedQuery=[],p(function(){window.addEventListener("message",function(e){return t.receive(e)},!1),t.pending=!0,t.iframe=h.initIframe()})}return i(e,[{key:"receive",value:function(e){var t;if(e.data){try{t=JSON.parse(e.data)}catch(e){return}if(t.type)switch(t.type){case"getBucUserId":for(this.userId=t.content,this.pending=!1;this.queue.length;){var n=this.queue[0];n(t.content),this.queue.shift()}break;case"iframOnload":this.iframeOnLoad()}}}},{key:"iframeOnLoad",value:function(){this.iframeLoaded=!0,this.executeCachedQuery()}},{key:"executeCachedQuery",value:function(){if(this.cachedQuery.length)for(var e=0;e<this.cachedQuery.length;e++){var t=a(this.cachedQuery[e]),n=t[0],r=t.slice(1);this[n].apply(this,r)}}},{key:"getBucUserId",value:function(e){return this.iframeLoaded?(this.queue.push(e),void(this.pending||(l(this.iframe.contentWindow,"getBucUserId"),this.pending=!0))):void this.cachedQuery.push(["getBucUserId",e])}},{key:"setBucUserId",value:function(e,t,n){var r=this;return this.iframeLoaded?(this.queue.push(function(){r.userId=t,n()}),void l(this.iframe.contentWindow,"setBucUserId",t)):void this.cachedQuery.push(["setBucUserId",e,t,n])}}]),e}(),v=d.objectAssign,g=d.Cookies,y=".alipay.com",b="__TRACERT_COOKIE_",w=function(){function e(t,n){var o=this;r(this,e),this.tracert=t,v(this,n),this.tracert.after("start",function(){setTimeout(function(){return o.init()},0)})}return i(e,[{key:"init",value:function(){if(!f()){if(this.isAlipayDomain=document.domain.indexOf(y)!==-1,this.tracert.bucUserId||this.tracert.roleId)return this.setBucUser(),this.tracert.backupUserId=this.tracert.bucUserId||this.tracert.roleId,void this.tracert.call("logPv");var e=this.isAlipayDomain?y:null;return this.tracert.bucUserId=g.get("".concat(b,"bucUserId"),{domain:e})||g.get("bucUserId",{domain:e}),this.tracert.bucUserId?(this.synchronousBucId(!1),void this.tracert.call("logPv")):void this.synchronousBucId(!0)}}},{key:"setLocalBucUserId",value:function(){g.set("".concat(b,"bucUserId"),this.tracert.bucUserId||this.tracert.roleId,{domain:this.isAlipayDomain?y:null})}},{key:"setBucUser",value:function(){this.setLocalBucUserId(),this.isAlipayDomain||this.cookiesHelper.setBucUserId("userId",this.tracert.bucUserId||this.tracert.roleId,function(){})}},{key:"synchronousBucId",value:function(e){var t=this;this.cookiesHelper.getBucUserId(function(n){n&&(t.tracert.bucUserId=n,t.setLocalBucUserId()),e&&t.tracert.call("logPv")})}},{key:"cookiesHelper",get:function(){return this._cookiesHelper||(this._cookiesHelper=new m),this._cookiesHelper}}]),e}(),x=function(e,t){var n=e,r=new w(n);return n.set({autoLogPv:!1,buc:r}),t(),n};e.exports=x},function(e,t,n){"use strict";function r(){var e=c.get(f)||s();return c.set(f,e,{expires:new Date((new Date).getTime()+l),cookie:!0}),e}function o(e){var t=document.domain&&document.domain.indexOf(u)!==-1,n=t?u:null,r={domain:n,cookie:!0,expires:new Date((new Date).getTime()+l)},o=function(e,t,n){var o=[e,t,n].join("\x01");return c.set(d,o,r),{_trid:t,_trll:n}},i=s(),a=1;if(!e)return{};var f=c.get(d,r,!0);if(!f)return o(e,i,a);var p=f.split("\x01"),h=p[0],m=p[1],v=p[2];if(h!==e)return o(h,i,a);var g=parseInt(v,10)+1;return o(h,m,g)}var i=n(1),a=i.cookiesPrefix,c=i.Cookies,s=i.uuid,u=".alipay.com",l=18e5,f="".concat(a,"_SESSION"),d="tree",p=i.objectAssign,h=function(e,t){var n=e;return r(),n.before("logPv",function(e){var t=o(n.spmAPos),i=r();e.__sid=i,p(e,t)}),t(),n};e.exports=h},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var c=n(1),s=c.addEvent,u=c.storage,l=c.nodeListToArray,f=c.getAttr,d=c.url,p=".alipay.com",h=function(){function e(t){var n=this;o(this,e),this.tracert=t,this.isAlipayDomain=document.domain&&document.domain.indexOf(p)!==-1,this.cookiesDomain=this.isAlipayDomain?p:null,this.tracert.before("logPv",function(e){e=e||{};var t=n.get(),r=n.getMetaSpmId();if(r&&n.tracert.set({_spmId:r}),t&&t.metaSpmId&&(e._refSpm=t.metaSpmId,n.tracert.set({_refSpm:e._refSpm})),n.tracert.refUrl&&"-"!==n.tracert.refUrl){var o={},i={};try{if(o=d.parse(n.tracert.url),i=d.parse(n.tracert.refUrl),o.host===i.host)return void n.tracert.set({referSPM:"".concat(n.tracert.spmAPos,".").concat(n.tracert.spmBPos)})}catch(e){}t&&(n.tracert.set({refUrl:t.fullUrl}),n.tracert.referSPM||n.tracert.set({referSPM:t.refSpm}))}}),s("click",window.document.body,function(e){n.cache(e.target)})}return a(e,[{key:"getMetaSpmId",value:function(){for(var e=l(window.document.getElementsByTagName("meta")),t="",n=0;n<e.length;n++){var r=e[n],o=f(r,"name"),i=f(r,"content");if(i&&o)switch(o){case"pagename":t=i}}return t?"".concat(this.tracert.spmAPos,".").concat(encodeURIComponent(t)):t}},{key:"cache",value:function(){var e=this.tracert.fullURL||"";e.length>150&&(e=this.tracert.url);var t=[e,"".concat(this.tracert.spmAPos,".").concat(this.tracert.spmBPos),this.getMetaSpmId()];u.set("fullfill_ref",t.join("\x01"),{domain:this.cookiesDomain,cookie:!0})}},{key:"get",value:function(){var e=u.get("fullfill_ref",{domain:this.cookiesDomain},!0);if(!e)return null;var t=e.split("\x01"),n=t[0],o=t[1],i=t[2],a=d.parse(this.tracert.refUrl),c=d.parse(n);return"object"!==r(a)||"object"!==r(c)?null:a.host===c.host?{fullUrl:n,refSpm:o,metaSpmId:i}:null}}]),e}(),m=function(e,t){var n=e,r=new h(n);return n.set({fullfillRef:r}),t(),n};e.exports=m},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=n(1),u=r(n(2)),l="TRACERT_REF_",f={_guid:function(){return s.uuid()},_initClientId:function(e){var t=window.localStorage,n=e.sessionIdKey;
t&&(t[n]||(t[n]="".concat(this._guid(),"_").concat(Date.now())),e.set({clientId:t[n]}))},_initChInfo:function(e){if(!e.chInfo){var t=s.getValue("chInfo")||s.getValue("chinfo");t&&e.set({chInfo:t})}},_initPageId:function(e){if(!e.get("pageId")){var t="".concat(e.spmAPos,".").concat(e.spmBPos,"_").concat(this._guid(),"_").concat(Date.now());e.set({pageId:t})}},_initFromUrlOrStorage:function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=s.getValue(r)||u.getItem("".concat(l).concat(r));if(o){var i={};i[r]=o,e.set(i)}}},_initRefs:function(e){var t=["referSPM"];this._initFromUrlOrStorage(e,t),e.ignoreNameStorage||(window.onunload=function(){var t=e.spmAPos&&e.spmBPos?[e.spmAPos,e.spmBPos].join("."):"";t&&u.setItem("".concat(l,"referSPM"),t)})}},d=s.objectAssign,p={eventType:"click",fullURL:location.href,server:"https://mdap.alipay.com/loggw/dwcookieLogGet.do",refUrl:document.referrer||"-",seedIdCfg:{pageSeedId:"10012",clkSeedId:"10032",expoSeedId:"10022",perfSeedId:"10074",exceptionSeedId:"102022"},init:function(){this._calledInited||(f._initClientId(this),f._initChInfo(this),f._initPageId(this),f._initRefs(this),this._calledInited=!0)},_logPv:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.spmAPos&&this.spmBPos?[this.spmAPos,this.spmBPos].join("."):"",r=document.getElementsByTagName("meta")["extra-page-spm"],o=[null].concat(r&&r.content?r.content.split(","):[]);o.forEach(function(r){e.call("remoteLog",{seedId:e.seedIdCfg.pageSeedId,spmId:n,extraPageId:r,param4:c({},t)})})},remoteLog:function(e){this.init();var t=this._packFinalData(e);this._send(t)},_packFinalData:function(e){var t=e.spmId,n=e.seedId,r=e.param4,i=e.extraPageId;d(r,this.mdata||{});var a=r.__sid||f._guid();if(delete r.__sid,r.spmId=t,n!==this.seedIdCfg.pageSeedId){var c=this.spmAPos,u=this.spmBPos,l=t.split("."),p=l.length;switch(p){case 1:if(""===t)break;r.spmId=[c,u,t].join(".");break;case 2:r.spmId=[c,u,t].join(".");break;case 3:break;case 4:}}var h=new Date,m=this.refSpm||this.referSPM||"";r.ref=this.refUrl,r.referSPM=m,r.chInfo&&(r.chInfo=this.chInfo),r.fullURL=this.fullURL,r.source_appid=this.spmAPos,this._spmId&&(r._spmId=this._spmId),this._refSpm&&(r._refSpm=this._refSpm),this.platformType&&(r.mPlatformType=this.platformType),this.bucUserId&&(r.__BUC_ID=this.bucUserId);var v=this.userType;if(!v)switch(v="3",this.spmAPos){case"a385":v="2";break;case"a369":v="2";break;case"a316":v="1"}r.__ut=v;var g=this.role_id||this.roleId||this.backupUserId||(r&&"3"===r.__ut?this.bucUserId:"")||"";if(r.clientID=this.clientId,"object"===o(r)){var y=r;for(var b in y)if(y.hasOwnProperty(b)&&"string"==typeof y[b]){var w=y[b].replace(/,/g,"%2C").replace(/\s+/g," ").replace(/=/g,"%3D");y[b]="fullURL"===b&&w.length>300?w.slice(0,300):w}}for(var x=function(e){return e<10?"0".concat(e):"".concat(e)},S=["D-AE","".concat(h.getFullYear(),"-").concat(x(h.getMonth()+1),"-").concat(x(h.getDate())," ").concat(x(h.getHours()),":").concat(x(h.getMinutes()),":").concat(x(h.getSeconds()),":").concat(h.getMilliseconds()),this.clientID,"","2","",a,g,1e3,n,this.bizType,this.logLevel,i||this.pageId,"","","","","","","","","","","","","".concat(window.innerWidth||"","x").concat(window.innerHeight,"x").concat(window.devicePixelRatio),"","","",navigator.userAgent,"","","",s.objToStr(this.sysInfo),"","",s.objToStr(r)],k=0;k<S.length;k++)"string"==typeof S[k]&&(S[k]=S[k].replace(/,/g,"%2C"));return S},_send:function(e){var t=window.encodeURIComponent;if(this.debug&&console.log(e),!this.server)return void console.warn("\u8bf7\u914d\u7f6eTracert\u670d\u52a1\u63a5\u6536\u5730\u5740");var n=new Image;n.src="".concat(this.server,"?data=").concat(t(e.join()),"&time=").concat((new Date).getTime())},send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"10032",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this._runBeforeFns("send",t),this.remoteLog({spmId:n||"".concat(this.spmAPos,".").concat(this.spmBPos),seedId:e,param4:t})}},h=s.objectAssign,m=function(e,t){var n=e;return h(n,p),t(),n};e.exports=m},,function(e,t,n){var r,o,i;!function(n,a){o=[],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}("undefined"!=typeof self?self:this,function(){if("object"==typeof window){var e,t=window,n={0:"navigate",1:"reload",2:"back_forward"},r=["unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart"];if(!t||!t.performance||"object"!=typeof t.performance)return e;if("function"==typeof t.performance.getEntries&&"function"==typeof t.performance.getEntriesByType&&"function"==typeof t.performance.getEntriesByName&&"function"==typeof t.performance.now&&t.performance.timeOrigin)return t.performance;var o=function(){for(var e=t.performance.timing,o=e.navigationStart||e.redirectStart||e.fetchStart,i={entryType:"navigation",initiatorType:"navigation",name:t.location.href,startTime:0,duration:e.loadEventEnd?e.loadEventEnd-o:0,redirectCount:t.performance.navigation.redirectCount,type:n[t.performance.navigation.type]},a=0;a<r.length;a++){var c=r[a],s=e[c];i[c]=s?s-o:0}return i};return e={_entry:o(),timeOrigin:t.performance.timing.navigationStart,getEntries:function(){return[this._entry]},getEntriesByType:function(e){return"navigation"!==e?[]:[this._entry]},getEntriesByName:function(e){return e!==t.location.href?[]:[this._entry]},now:function(){return Date.now()-t.performance.timing.navigationStart}}}})},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(){return document.body&&document.body.innerText&&document.body.innerText.length||0}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return JSON.stringify(e)===JSON.stringify(t)}var s=n(1),u=s.url,l=function(){function e(t){r(this,e),this.tracert=t,this.curUrl=t.get("fullURL");var n=this.curUrlObj=u.parse(this.curUrl);this.curDocLen=a();var o=n.hash,i=this.isAnchor(o);i||(n.hash=this.cleanHash(o)),this.tracert.call("set",{url:i?this.curUrl.split(/\?|#/)[0]:n.format()}),this.start()}return i(e,[{key:"start",value:function(){var e=this;this.interval=setTimeout(function(){e.check(),e.start()},500)}},{key:"stop",value:function(){clearTimeout(this.interval),this.interval=void 0}},{key:"check",value:function(){var e=window.location.href,t=this.diff(e);if(t){this.tracert.call("set",{refUrl:this.curUrl,referSPM:"".concat(this.tracert.spmAPos,".").concat(this.tracert.spmBPos),url:t.isHashSinglePage?t.format():e.split(/\?|#/)[0],fullURL:e});var n=t.isHashSinglePage?{}:{_nohash:1};this.tracert.call("logPv",n)}this.curUrl=e,this.curUrlObj=t||u.parse(e),this.curDocLen=a()}},{key:"diff",value:function(e){if(e===this.curUrl)return!1;var t=u.parse(e),n=t.path,r=t.query,o=t.hash,i=this.curUrlObj;return n===i.path&&c(r,i.query)?o!==i.hash&&(!this.isAnchor(o)&&(t.isHashSinglePage=!0,t.hash=this.cleanHash(t.hash),t)):t}},{key:"isAnchor",value:function(e){return!(!e||"#"===e)&&(e=e.substr(1),"/"!==e[0]&&(document.getElementById(decodeURI(e))&&Math.abs(this.curDocLen-a())<5))}},{key:"cleanHash",value:function(e){if(!e)return e;var t=e.indexOf("?");return t!==-1&&(e=e.substr(0,t)),e}}]),e}(),f=function(e,t){var n=e,r=new l(n);return n.set({monitor:r}),n.before("set",function(e){if(e&&e.pathName&&n.spmAPos){r.stop();var t=e.pathName,o=n.pathName;n._spmId&&(n._refSpm=n._spmId),n.fullURL=location.href,n.url=location.href.split(/\?|#|;jsessionid=/)[0],n._spmId="".concat(n.spmAPos,".").concat(encodeURIComponent(t)),o&&(n.refUrl=n.url,n.referSPM="".concat(n.spmAPos,".").concat(n.spmBPos),n.call("logPv"))}}),t(),n};e.exports=f},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){return d(e)||p(e,t)||h()}function d(e){if(Array.isArray(e))return e}function p(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function m(e,t){return window.getComputedStyle(e,t)}function v(e){return e.id&&Te.indexOf(e.id)!==-1}function g(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function y(e){if(Object&&Object.values)return Object.values(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function b(e,t){var n=g(e);if(0===n.length)return void(e[t]=1);for(var r=0;r<n.length;r++)if(Math.abs(n[r]-t)<=Oe)return void e[n[r]]++;e[t]=1}function w(e,t){if(!e||!e.children)return[];var n=[].slice.call(e.children)||[];return t?n.filter(t):n}function x(e){var t=e.tagName.toLowerCase();return"div"===t||"span"===t?"span":t}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=w(e,function(e){return 8!==e.nodeType}),r=n.length;if("ul"===e.tagName.toLowerCase())return!0;if(r<=1&&r<t)return!1;if(r>je)return!1;for(var o="",i=!0,a={},c={},s={},u=0,l=0;l<r;l++){var f=n[l],d=x(f);if(Ae.indexOf(d)!==-1)return!1;if(f.offsetWidth>_e[0]&&f.offsetHeight>_e[1])return!1;(f.offsetWidth<Se||f.offsetHeight<Se)&&u++;var p=Math.max(Oe,f.offsetWidth);b(a,p);var h=Math.max(Oe,f.offsetHeight);b(c,h);for(var m=0;m<f.classList.length;m++){var v=f.classList[m];s[v]=(s[v]||0)+1}if(i=o?o===d:i,o=d,!i)return!1}return i&&u<r/2&&y(s).indexOf(r)!==-1&&g(a).length<=2&&g(c).length<=r/2}function k(e){return e.childNodes||[]}function I(e){var t={};if(!e.attributes)return{};for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n];t[r.name]=r.value}return t}function P(e){for(;e&&e.childNodes&&e.childNodes.length;){var t=[].slice.call(e.childNodes);if(t.find(function(e){return 3===e.nodeType}))return!0;e=t.filter(function(e){return!!e.tagName}).sort(function(e,t){return e.offsetWidth<24?1:e.offsetLeft-t.offsetLeft})[0]}return!!e&&!![].slice.call(e.childNodes||[]).find(function(e){return 3===e.nodeType})}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:">",n=e.split(t);return Array.isArray(n)?n:[n]}function T(e){return _(e,">").map(function(e){var t=e.split(":"),n=t[0],r=t[1],o=Re.hasOwnProperty(n)?"".concat(Re[n].toString(16)):n,i=r?r.replace(/nth-child\((\d+)\)/g,function(e,t){return"".concat(t)}).replace(/nth-of-type\((\d+)\)/g,function(e,t){return"t".concat(t)}):"";return"".concat(o).concat(i?"".concat(Ne).concat(i):"")}).join(Ue)}function E(e){var t=e.indexOf("\n");return t!==-1&&(e=e.substring(0,t)),e.trim().substring(0,15)}function O(e){try{return e instanceof HTMLElement}catch(t){return"object"===o(e)&&1===e.nodeType&&"object"===o(e.style)&&"object"===o(e.ownerDocument)}}function j(e){for(var t=0;t<e.length;t++)if(3===e[t].nodeType)return!0;return!1}function C(e){if(!e||5===e.nodeType)return"";if(3===e.nodeType)return window.Text&&e instanceof Text?e.wholeText:e;if(!O(e))return"";var t=e.tagName.toLowerCase();switch(t){case"img":return"img:".concat(e.src);case"canvas":return"canvas"}var n=k(e),r=w(e),o=I(e);return 0===n.length||j(n)||0===r.length?e.innerText||o.placeholder||o.alt||m(e,":before").content||m(e,":after").content:C(r[0])}function A(e){var t=C(e);if(t&&"string"==typeof t)return E(t.replace(/\s/g,""));if(!e||w(e).length>3)return"";var n=e.innerText;return n?E(n):w(e.parentNode).length<3?E(A(e.parentNode)):""}function L(e){var t=w(e);if(!t||!t.length)return A(e);if(1===t.length)return E(L(t[0]));for(var n;(n=w(e))&&n.length;)return e=[].slice.call(n).sort(function(e,t){return e.offsetWidth<24?1:e.offsetLeft-t.offsetLeft})[0],E(A(e));return""}function B(e){return e.id&&Te.indexOf(e.id)!==-1||Ce.indexOf(e.tagName.toLowerCase())!==-1}function N(e){var t=m(e);return"SCRIPT"===e.tagName||"none"===t.display||"relative"===t.position&&null===e.offsetParent||"absolute"===t.position&&(Math.abs(parseFloat(t.left)+e.offsetWidth)<5||Math.abs(parseFloat(t.top)+e.offsetHeight)<5)||e.offsetWidth<5||e.offsetHeight<5}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(0===t)return!1;var n=w(e);if(0===n.length)return e.clientHeight>Ee;for(var r=0;r<n.length;r++){var o=n[r],i=m(o);if(("absolute"===i.position||i.float)&&o.clientHeight>Ee[1])return!0;if(U(o,t-1))return!0}return!1}function D(e){var t=e.getAttribute("id");return t&&t.substring(0,10)}function R(e){return e.classList&&e.classList.length?".".concat([].slice.call(e.classList,0,2).join(".")):""}function M(e){return e.id?D(e):R(e)}function H(e){var t=e.offsetWidth,n=e.offsetHeight;return t*n}function z(e){var t=w(e);if(t.length<2||t.length>3)return!1;if(S(e,2))return!1;var n=e.offsetWidth,r=t[0],o=r.offsetWidth,i=r.offsetHeight,a=parseInt(m(r).lineHeight,10)||16;return!(o<200||o<.9*n)&&((!i||!(i<a||i>4*a))&&!!P(r))}function W(e,t){if(e.contains&&"function"==typeof e.contains)return e.contains(t);var n=t;do if(e===n)return!0;while(n=n&&n.parentNode);return!1}function F(e){var t=e;if(t.__possibleBlock)return!0;var n=e.tagName.toLowerCase();if("a"===n)return!1;if(v(t))return!1;if(S(t))return!1;var r=w(t);if(!r||!r.length)return!1;var o=t.offsetWidth,i=t.offsetHeight;return!(o<Ee[0]||i<Ee[1])}function q(e){for(var t=w(e),n=0;n<t.length;n++)if(I(t[n]).hasOwnProperty("contenteditable"))return!0;return!1}function K(e){var t,n=e.tagName.toLowerCase(),r=e.parentNode;if(S(e.parentNode)&&r.children&&r.children.length){for(var o=0,i=0;i<r.children.length;i++){var a=r.children[i];if(a.tagName.toLowerCase()===n&&o++,a===e)break}return"".concat(n,":nth-of-type(").concat(o,")")}for(var c=0;c<r.children.length;c++)if(r.children[c]===e){t=c+1;break}return"".concat(n,":nth-child(").concat(t,")")}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return!1;var n=e.getBoundingClientRect(),r=n.top+n.height/2,o=window.innerHeight/2,i=Math.abs(r-o)<50,a=(n.right-n.left)/2,c=window.innerWidth/2,s=Math.abs(a-c)<50;return 1===t?i||s:i&&s}function V(e){if(!e)return!1;var t=window.getComputedStyle(e);return Math.abs(e.offsetWidth-window.innerWidth)<50&&Math.abs(e.offsetHeight-window.innerHeight)<50&&("fixed"===t.position||e.offsetParent===document.body)}function G(e){return!!e&&(J(e)&&e.offsetParent&&V(e.offsetParent))}function Q(e){var t=e.getBoundingClientRect();return!(Math.abs(t.width-window.innerWidth)>50)&&(!(t.height>Ie)&&!(t.y>t.height))}function $(e){var t=e.getBoundingClientRect();return!(Math.abs(t.width-window.innerWidth)>50)&&(!(t.height>Ie)&&!(Math.abs(t.bottom-(e.offsetParent||document.body).offsetHeight)>50))}function Y(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t||document.body;if(e===r||e===document.body)return"body";if(n)for(var o=0;o<He.length;o++)if(e&&e[He[o]])return e[He[o]];var i=e,a=[];do a.unshift(K(i));while(i.parentNode&&i.parentNode!==document.body&&i.parentNode!==r&&(i=i.parentNode));return a.join(">")}function X(e){var t=e.dom,n=e.extraParams,r=e.block,o=e.blockSelector,i=e.blockTitle,a=e.blockId,c=e.node,s=e.nodeId,u=e.nodeSelector,l=e.nodeText,f=e.clickText,d=o||Y(r);if(r&&(r["data-block-selector"]=d,ze[o]=r),c){c["data-block"]=d;var p=u||Y(c,r);c["data-node-selector"]=p,ze[p]=c}return{dom:t,extraParams:n,node:u||Y(c),nodeText:l,nodeId:s,block:(o||Y(r)).replace(/\[data-aspm="([\w-]+)"\]/g,function(e,t){return t}),blockTitle:i,blockId:a,clickText:f}}function Z(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.map(function(e){var n=e.node,r=e.selector,o=r||Y(n,document.body,t);return n["data-block-selector"]=o,{block:n,selector:T(o)}})}function ee(e,t){var n=document.querySelector(e);if(!n||!W(n,t)){var r=ze[e];if(r){var o=Y(r);return r["data-block-selector"]=o,ze[o]=r,r}return null}return n}function te(){ze={}}function ne(){var e=window,t=e.visualViewport;return t?[t.offsetLeft,t.offsetTop,t.width,t.height]:[0,0,window.innerWidth,window.innerHeight]}function re(e){var t=ne(),n=t[1],r=t[0]+t[3],o=e.getBoundingClientRect(),i=o.top,a=o.bottom,c=o.height;return i<=n&&a>=r||i>=n&&a<=r||i>=n&&r-i>=Math.min(300,c/2)||a<=r&&a-n>=Math.min(300,c/2)}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{time:0,cnt:0},n=t.time,r=void 0===n?0:n,o=t.cnt,i=void 0===o?0:o,a={};if(!e)return a;var c=e.exposedTime+r,s=e.exposedCnt+i;return e.empty()&&document.body.contains(e.dom)?a[T(Y(e.dom),document.body)]={time:c,cnt:s,title:e.title,type:e.type,id:D(e.dom),cls:R(e.dom)}:we.objectAssign(a,e.children.reduce(function(e,t){return we.objectAssign(e,oe(t,{time:c,cnt:s}))},a)),a}function ie(){return new We}function ae(e){for(var t=[],n=[],r=0;r<e.length;r++){var o=e[r];o&&(B(o)||N(o)?n.push(o):t.push(o))}return{ordered:t,disorderd:n}}function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];for(var n=[],r=[],o=ae(e),i=o.ordered,a=o.disorderd,c=0;c<a.length;c++){var s=a[c];U(s)&&(s.__possibleBlock=!0,i.push(s))}i.sort(function(e,t){return H(e)-H(t)});for(var u=0;u<i.length;u++){var l=i[u],f=w(l);if(Je(l,"data-aspm"))n=n.concat({node:l,type:"spm",selector:Je(l,"data-aspm")});else if(l&&l.tagName&&Le.indexOf(l.tagName.toLowerCase())!==-1)n=n.concat([{node:l,type:"short"}]);else if(q(l))n=n.concat([{node:l,type:"ugc"}]);else if(S(l))n=n.concat([{node:t[0],type:"list"}]);else if(G(l))n=n.concat([{node:l,type:"modal"}]);else if(Q(l))n=n.concat([{node:l,type:"header"}]);else if($(l))n=n.concat([{node:l,type:"footer"}]);else{if(z(l)){var d=function(){var e=ce(f,[l].concat(t)),r=[],o=[];return e.forEach(function(e){"pattern"===e.type?r.push(e):o.push(e)}),n=r&&r.length?n.concat(r.concat(o)):n.concat([{node:l,type:"pattern"}]),"continue"}();if("continue"===d)continue}if(l.offsetWidth>document.body.offsetWidth)n=n.concat(ce(f,[l].concat(t)));else if(F(l)){if(1===f.length){var p=ce(f,[l].concat(t),!0);n=n.concat(p&&p.length?p:[{node:l,type:"hoist"}]);continue}var h=ce(f,[l].concat(t),!0);h&&h.length?n=n.concat(h):r.push({node:l,type:"stashed"})}else r.push({node:l,type:"stashed"})}}if(n.length>1){for(var m=0,v=t[0]||e[0],g=0;g<n.length;g++)if("list"===n[g].type&&m++,n[g].node===t[0]){if(v.__possibleBlock){n=n.concat([{node:v.parentNode,type:"hoist"}]);break}return[{node:v,type:"merge"}]}if(m>=n.length/2)return[{node:v,type:"hoist"}]}return r.length&&(n=n.length>=i.length/2?n.concat(r):[{node:t[0]||e[0],type:"end"}]),n}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2500,n=[];for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],i=o.time,a=o.cnt,c=o.type,s=o.id,u=o.cls;n.push({time:i,text:[r,i,"",a,c,s,u].join("\x02")})}for(var l=n.sort(function(e,t){return t.time-e.time}),f=[],d=t,p=0;p<l.length;p++){var h=l[p],m=h.text,v=void 0===m?"":m;if(d<v.length)break;d-=v.length,f.push(v)}return f.join("\x01")}function ue(e){var t=e.offsetWidth,n=e.offsetHeight;return Be.indexOf(e.tagName.toLowerCase())!==-1||(t*n<Pe||Math.max(t,n)>Qe||!P(e)&&!m(e).backgroundImage)}function le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e||!e.length)return null;if(!t||!t.length)return null;if(t.length>e.length-n)return null;var r=Array.isArray(t[0])?t[0]:[t[0]];return r.find(function(t){return e[n].cursor===t})?1===t.length?0===n?null:e[n-1].node:le(e,t.slice(1),n+1):le(e,t,n+1)}function fe(e){var t=e;if(e instanceof SVGElement&&"svg"!==e.tagName.toLowerCase())try{return fe(e.ownerSVGElement)}catch(e){return console.debug("Failed to get ownerSVGElement"),{node:parent,type:tt}}var n=[];do{if(e.id&&Te.indexOf(e.id)!==-1)return null;var r=I(e);if(e["data-block"]&&e["data-node-selector"])return{node:e,type:"CACHED",nodeSelector:e["data-node-selector"]};if(r["data-aspm"])break;if(r["data-aspm-click"])return{node:e,nodeSelector:"".concat(r["data-aspm-click"]),spm:!0,type:$e};if("a"===e.tagName.toLowerCase())return{node:e,type:Ye};if(Ae.indexOf(e.tagName.toLowerCase())===-1){var o=m(e).cursor||"default";n.push({node:e,type:Ze,cursor:o})}else n.push({node:e,type:Xe})}while(e.parentNode&&e.parentNode!==document.body&&(e=e.parentNode));for(var i=0;i<n.length;i++){var a=n[i],c=a.node,s=a.type;if(s===Xe)return{node:c,type:s}}var u=le(n,["pointer",["default","auto"]]);return u?{node:u,type:Ze}:ue(t)?null:{node:t,type:et}}function de(e,t,n){var r=t.block,o=t.blockSelector,i=n.node,a=n.nodeSelector,c=n.nodeType,s=n.clickDom,u="";r&&(u=L(r),a=a||Y(i,r));var l=A(e),f=s&&s.getAttribute?s.getAttribute("data-aspm-param"):"",d=Ge(f);return X({dom:e,extraParams:d,clickDom:s,node:i,nodeSelector:a,nodeMeta:{id:M(i),type:c,err:i.type===et&&"pointer"!==m(i).cursor},nodeText:encodeURIComponent(l),block:r,blockTitle:encodeURIComponent(u),blockSelector:o,blockMeta:r?{id:M(r)}:null,clickText:encodeURIComponent(l)})}function pe(e){for(var t=e,n=[t];t.parentNode&&t.parentNode!==document.body;){var r=t.parentNode;n.push(r),t=r}return n}function he(e,t){for(var n=t.length;n>0;n--)for(var r=t[n],o=0;o<e.length;o++){var i=e[o].block;if(i===r)return i}return!1}function me(e){if(!e||e===document.body)return null;var t=fe(e);if(!t)return null;var n=t.node,r=t.type,o=t.node;if("CACHED"===r){var i=n["data-block"],a=ee(i,n);if(a)return de(e,{block:a,blockSelector:i},{node:n,nodeSelector:t.nodeSelector,clickDom:o})}var c=t.nodeSelector;if(r===$e&&c.indexOf(".")!==-1){var s=c.split("."),u=s[0],l=s[1],f=document.querySelector('[data-aspm="'.concat(u,'"]'));return de(e,{block:f,blockSelector:u},{node:n,nodeSelector:l,nodeType:r,clickDom:o})}for(var d=n,p=!1,h="",m=[];d&&d.parentNode&&d.parentNode!==document.body;){var v=d=d.parentNode,g=I(d);if(g["data-aspm"]){p=!0,h='[data-aspm="'.concat(g["data-aspm"],'"]');break}m.unshift(v)}if(p)return de(e,{block:d,blockSelector:h},{node:n,nodeSelector:c,nodeType:r,clickDom:o});for(;d=m.pop();)if(d["data-block-selector"]){var y=d["data-block-selector"],b=ee(y,d);if(!b)continue;return de(e,{block:b,blockSelector:y},{node:n,nodeSelector:c||Y(n,b),clickDom:o})}var w=pe(e),x=Z(ce([document.body])),S=he(x,w);return S?de(e,{block:S,blockSelector:Y(S)},{node:n,nodeSelector:c||Y(n,S),clickDom:o}):null}function ve(e){return function(t){if(t&&e){t.extraSpmIdSet||(t.extraSpmIdSet={});var n=e.split(",");n.forEach(function(e){t.extraSpmIdSet[e]=!0})}}}function ge(){st.forEach(function(e){var t=f(e,2),n=t[0],r=t[1];we.removeEvent("click",n,r)}),st=[]}function ye(e){if(e){var t=e.getAttribute(ct);if(!t)return;var n=ve(t);we.addEvent("click",e,n),st.push([e,n])}}function be(e){e.refreshExtraClickListeners=function(){ge();for(var e=document.querySelectorAll("[".concat(ct,"]")),t=0;t<e.length;t++)ye(e[t])},e.refreshExtraClickListeners()}var we=n(1),xe=r(n(2));Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=t[o];if(e.call(r,i,o,t))return i;o++}},configurable:!0,writable:!0});for(var Se=16,ke=500,Ie=120,Pe=Se*Se,_e=[400,400],Te=["deer-analysis-render-container","mocha"],Ee=[200,50],Oe=5,je=100,Ce=["svg","i","p","iframe","pre"],Ae=["label","input","button","img","iframe"],Le=["svg","iframe","form","table"],Be=["ul","header","section","article","aside"],Ne="`",Ue=">",De=["div","span","a","p","button","ul","li","ol","img","h1","h2","h3","h4","h5","h6","form"],Re={},Me=0;Me<De.length;Me++)Re[De[Me]]=Me;window.getNodeText=A,window.getFirstNodeText=C,window.getBlockTitle=L,window.possibleBlock=F,window.possibleHeadedBlock=z;var He=["data-node-selector","data-block-selector"];window._getSelector=Y,window._isModal=G;var ze={},We=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,n=arguments.length>1?arguments[1]:void 0;i(this,e),this.dom=document.body,this.children=[],this.selector="",this.lastExposingTime=0,this.exposedTime=0,this.exposedCnt=0,this.title="",this.type="",this.dom=t,this.type=n,this.title=L(t),this.expo()}return c(e,[{key:"visible",value:function(){return!!this.dom&&(!N(this.dom)&&re(this.dom))}},{key:"pause",value:function(){return this.empty()?void this.unexposed(!0):void[].concat(this.children.filter(function(e){return e.pause()}))}},{key:"expo",value:function(){if(!this.empty())return[].concat(this.children.filter(function(e){return e.expo()}));var e=this.dom;return this.visible()?(this.exposed(),[e]):(this.unexposed(),[])}},{key:"getExposed",value:function(e){return oe(this,e)}},{key:"exposed",value:function(){return this.lastExposingTime?this.exposedTime+=Date.now()-this.lastExposingTime:this.exposedCnt++,this.lastExposingTime=Date.now(),this.exposedTime}},{key:"unexposed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.lastExposingTime){var t=Date.now()-this.lastExposingTime;(e||t>ke)&&(this.exposedTime+=t)}return this.lastExposingTime=0,this.exposedTime}},{key:"empty",value:function(){return!this.children.length}},{key:"update",value:function(e){var t=this;e.forEach(function(e){return t.insert(e.node,e.type)}),Z(e,!1)}},{key:"contains",value:function(e){return this.dom!==e&&this.dom.contains(e)}},{key:"insert",value:function(t,n){var r=this;this.children=this.children.filter(function(e){var t=e.dom;return r.contains(t)});var o=this.children.find(function(e){return e.dom===t});if(!o){var i=this.children.find(function(e){return e.contains(t)});i?i.insert(t,n):this.children.push(new e(t,n))}}}]),e}(),Fe=we.addEvent,qe=we.debounce,Ke=we.storage,Je=we.getAttr;window._pickLayout=ce;var Ve=function(){function e(t){var n=this;i(this,e),this.layout={},this.expoTree=null,this.paused=!1,this.pause=function(e){e.target!==window&&e.target!==document||n.paused||(n.expoTree.pause(),n.paused=!0)},this.resume=function(){n.paused&&(n.expoTree.expo(),n.paused=!1)},this.restore=function(){var e=n.tracert,t=Ke.get("exposed",{},!0);if(t){var r=t.split("|"),o=r[0],i=r[1];try{var a=decodeURIComponent(o),c=se(JSON.parse(i));a===n.tracert.refUrl&&e.after("start",function(){e.call("expo","deer_expo","",{expo:c})})}catch(e){}}},this.timeout=null,this.timeoutLog=function(){n.log(),n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(function(){return n.log()},ke)},this.log=function(){n.paused||(n.cacheLayout(),n.expoTree.empty()||(n.expoTree.expo(),Ke.set("exposed","".concat(encodeURIComponent(location.href),"|").concat(JSON.stringify(oe(n.expoTree))))))},this.tracert=t,this.expoTree=ie(),this.events()}return c(e,[{key:"events",value:function(){var e=this;Fe("blur",window,this.pause),Fe("focus",window,this.resume),Fe("visibilitychange",document,function(t){"hidden"===document.visibilityState?e.pause(t):"visible"===document.visibilityState&&e.resume()}),Fe("scroll",window,qe(function(){return e.log()},200)),Fe("beforeunload",window,function(){e.expoTree.expo();var t=oe(e.expoTree);Ke.set("exposed","".concat(encodeURIComponent(location.href),"|").concat(JSON.stringify(t)))}),this.tracert.before("logPv",function(){e.restore(),e.expoTree.expo();var t=oe(e.expoTree);Ke.set("exposed","".concat(encodeURIComponent(location.href),"|").concat(JSON.stringify(t))),te(),e.expoTree=ie(),e.timeoutLog()})}},{key:"cacheLayout",value:function(){var e=[document.body],t=ce(e);return this.expoTree.update(t),this.layout}},{key:"get",value:function(){return this.layout}}]),e}(),Ge=we.strToObj;window.isList=S;var Qe=.5*document.body.scrollWidth,$e=0,Ye=1,Xe=2,Ze=3,et=4,tt=5,nt=we.url,rt="https://render.alipay.com/p/s/deer-analysis-render/index.js?_t=".concat(Date.now()),ot="https://render.alipay.com/p/s/deer-analysis-render/index.css?_t=".concat(Date.now()),it=function(e){if(!e)return{};var t=e.split("&");if(!t.length)return{};for(var n={},r=0;r<t.length;r++){var o=t[r]||"",i=o.split("=");n[i[0]]=i[1]||""}return n},at=function(){we.load(function(){var e=nt.parse(location.href),t=e.query,n=it(t),r=n.deer_tracert_token||xe.getItem("deer_tracert_token");if(r){var o=document.createElement("script");o.type="text/javascript",o.src="".concat(rt),document.getElementsByTagName("HEAD").item(0).appendChild(o);var i=document.createElement("link");i.href=ot,i.rel="stylesheet",i.type="text/css",document.getElementsByTagName("HEAD").item(0).appendChild(i)}})},ct="data-extra-spm",st=[],ut=we.addEvent,lt=function(e,t){function n(t){r||(r=new Ve(e,{layout:t}),e.set({_expo:r}),at())}var r,o=e;return window.getComputedStyle&&document.body.classList?(e._layout?n(e._layout):e.before("set",function(e){e.hasOwnProperty("_layout")&&n(e._layout)}),ut("click",document.body,function(e){var t=me(e.target);t&&setTimeout(function(){var n=e.extraSpmIdSet,r=n?Object.keys(n):[],i=t.node,a=t.nodeText,c=t.nodeId,s=t.block,u=t.blockTitle,f=t.blockId,d=t.extraParams;i&&s&&o.after("start",function(){o.call("click","".concat(T(s),".").concat(T(i)),l({nodeText:a,nodeId:c,blockTitle:u,blockId:f,extraSpmIds:r},d))})},0)}),be(o),t(),o):(t(),o)};e.exports=lt},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e){return e.length>y?e.substr(0,y):e}function c(e){return e===document.body?"body":e.className?".".concat(a(e.className)):a(e.nodeName.toLowerCase())}function s(e){e=e||[];for(var t,n=0;n<e.length;n++){var r=e[n];r.isLeaf||r.children&&!(r=s(r.children))||(!t||t.area<r.area)&&(t=r)}return t}function u(e){var t=e.offsetWidth,n=e.offsetHeight,r=Math.min(t,n),o=Math.max(t,n);return"none"!==e.style.display&&r>=20&&o>=200&&e.children&&e.children.length>0}function l(e){e=e||[];for(var t=[],n=0;n<e.length;n++)u(e[n])&&t.push(e[n]);return t}function f(e){for(var t=e.node;;){var n=l(t.children),r=n.length;if(r>1)return n.map(function(e){return{node:e,area:e.offsetWidth*e.offsetHeight}});if(1!==r)return null;t=n[0]}}function d(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=document.body,n=[{node:t,area:t.offsetWidth*t.offsetHeight}],r=1;;){var o=s(n);if(!o)break;var i=f(o);if(i?r-1+i.length>e?(o.children=i.splice(0,e-r+1),r=e):(o.children=i,r+=i.length-1):o.isLeaf=!0,r>=e)break}return n}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t||[];
return e.forEach(function(e){var t="".concat(n,"\x01").concat(c(e.node));r.push(t),e&&e.children&&p(e.children,r,n+1)}),t?null:r.join("\x02")}var h=n(1),m=h.addEvent,v=h.storage,g=7,y=30,b=function(){function e(t){var n=this;r(this,e),this.tracert=t,t.before("logPv",function(e){var t=n.get();t&&(e._layout=t)}),this.cache(),m("click",document.body,function(){n.cache()}),m("unload",window,function(){n.cache()})}return i(e,[{key:"getLayout",value:function(){return d(1/0)}},{key:"cache",value:function(){if(!this.cached){var e=d();v.set("layout","".concat(location.href,"|").concat(p(e))),this.cached=!0}}},{key:"get",value:function(){this.cached=void 0;var e=v.get("layout",{},!0);if(!e)return null;var t=e.split("|"),n=t[0],r=t[1];return n===this.tracert.refUrl?r:null}}]),e}(),w=h.addEvent,x=h.storage,S=function(){function e(t){var n=this;r(this,e),this.tracert=t,this.tracert.before("logPv",function(e){var t=n.get();t&&(e._clickReferer=t)}),w("click",document.body,function(e){n.cache(e.target)})}return i(e,[{key:"cache",value:function(e){var t=this.getText(e),n=this.getSectionHead(e),r="";n&&(r=this.getSectionTitle(n)),x.set("clickReferer","".concat(location.href,"\x01").concat(this.format(t),"\x01").concat(this.format(r)))}},{key:"get",value:function(){var e=x.get("clickReferer",{},!0);if(!e)return null;var t=e.split("\x01"),n=t[0],r=t[1],o=t[2];return n===this.tracert.refUrl?"".concat(r,"\x01").concat(o):null}},{key:"getSectionTitle",value:function(e){for(;e&&e.children&&e.children.length;)e=[].slice.call(e.children).sort(function(e,t){return e.offsetWidth<24?1:e.offsetLeft-t.offsetLeft})[0];return this.getText(e)}},{key:"getSectionHead",value:function(e){for(;e.parentNode;){var t=e,n=e=e.parentNode,r=n.offsetWidth;if(!(r<200||r>=document.body.offsetWidth)){var o=n.children;if(o&&o.length){var i=o.length;if(!(i<2||i>3)&&o[0]!==t){var a=o[0],c=a.offsetWidth,s=a.offsetHeight;if(!(c<200||c<.9*r||s<14||s>60))return a}}}}return null}},{key:"getText",value:function(e){if(this.isTooManyChildren(e,3))return"";var t=e.innerText;if(!t){var n=e.parentNode;this.isTooManyChildren(n,3)||(t=n.innerText)}return t}},{key:"format",value:function(e){if(!e)return"";var t=e.length;return t>20?"...".concat(e.substr(t-20)):e}},{key:"isTooManyChildren",value:function(e,t){var n=0,r=function(e){var o=e.children;if(o){var i=o.length;if(n+=i,!(n>t)&&i)for(var a=0;a<i;a++)if(r(o[a]),n>t)return}};return r(e),n>t}}]),e}(),k=function(e,t){var n=e,r=new b(n),o=new S(n);return n.set({_layout:r,clickReferer:o}),t(),n};e.exports=k},function(e,t){"use strict";var n=function(e,t){var n=e;return t(),n};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t){if("object"!==o(e)||"function"!=typeof e.getEntriesByType)return[];var n=[],r=e.getEntriesByType("navigation");if(!r||0===r.length)return[];var i=r[0],a=b(e),c={firstMeaningfulPaint:t};return y.forEach(function(e){var t=i[e]||a[e]||c[e];null==t||"number"==typeof t&&isNaN(t)?n.push("-"):n.push("number"==typeof t?parseFloat(t.toFixed(2)):t)}),n}function u(e){return w.reduce(function(t,n,r){var o=w[r-1]||0,i={name:"imageSizeGroup".concat(r,"Count"),field:"img_".concat(r),val:e.filter(function(e){return e.encodedBodySize<n&&e.encodedBodySize>o}).length};return t.concat(i)},[]).concat({name:"imageSizeGroup".concat(x,"Count"),field:"img_".concat(x),val:e.filter(function(e){return e.encodedBodySize>w[w.length-1]}).length})}function l(e,t){if("object"!==o(e))return[];var n=e.getEntriesByType("resource").filter(function(e){return e.startTime&&e.startTime<t});if(0===n.length)return[];var r=n.filter(S),i=n.filter(k),a=n.filter(_),c=n.filter(E),s=n.filter(T),l=[{name:"resourceCount",field:"rcnt",val:n.length},{name:"resourceSize",field:"rsize",val:A(n)},{name:"jsCount",field:"jscnt",val:r.length},{name:"jsSize",field:"jssize",val:A(r)},{name:"cssCount",field:"csscnt",val:i.length},{name:"cssSize",field:"csssize",val:A(i)},{name:"imageCount",field:"imgcnt",val:a.length},{name:"imageSize",field:"imgsize",val:A(a)},{name:"fontCount",field:"fontcnt",val:c.length},{name:"fontSize",field:"fontsize",val:A(c)},{name:"iframeCount",field:"iframecnt",val:s.length},{name:"iframeSize",field:"iframesize",val:A(s)},{name:"Http2EnabledCount",field:"h2cnt",val:n.filter(I).length},{name:"compressedResourceCount",field:"crcnt",val:n.filter(O).length},{name:"cachedResourceCount",field:"carcnt",val:n.filter(j).length},{name:"serviceWorkerResourceCount",field:"swrcnt",val:n.filter(C).length}];return{metrics:l,imageGroupMetrics:u(a)}}function f(e,t){if("object"!==o(e))return[];var n=e.getEntriesByType("resource").filter(function(e){return["xmlhttprequest","fetch"].indexOf(e.initiatorType)>-1&&e.startTime<=t});return n.map(function(e){return[e.name.split("?")[0],e.startTime,e.transferSize,Math.round(e.responseStart-e.startTime),e.duration]})}function d(e,t){var n={pid:"tracert",msg:e.message,code:t,page:location.href,c1:(e.stack||"").slice(0,500),c2:(e.stack||"").slice(500,1e3),c3:(e.stack||"").slice(1e3,1500)},r=new Image;r.src="//gm.mmstat.com/fsp.1.1?".concat(m.objToStr(n,"&"))}function p(e,t){if("object"===o(t)&&!e.metricsSent)try{var n=t.getEntriesByType("navigation")[0],r=s(t,L),a=l(t,n.duration),u=f(t,n.duration);e.send(e.seedIdCfg.perfSeedId,c({nav:r.join("_")},(a.metrics||[]).reduce(function(e,t){return c({},e,i({},t.field,Math.round(t.val)))},{}),{img_group:(a.imageGroupMetrics||[]).map(function(e){return e.val}).join("_"),network:navigator.connection&&navigator.connection.effectiveType||"-",partial:0===n.duration?1:0,ajax:u.map(function(e){return e.join("-")}).join("_"),title:document.title,visible:document.hidden?0:1})),e.metricsSent=!0}catch(e){d(e,12)}}function h(e){if("object"!==o(v))return e;try{g(function(e){L=e}),"function"==typeof v.setResourceTimingBufferSize&&v.setResourceTimingBufferSize(B);var t=navigator.userAgent,n=!!t.match(/iPhone|iPad|iPod/i),r=n?"pagehide":"beforeunload";window.addEventListener(r,p.bind(null,e,v))}catch(e){d(e,11)}return e}var m=n(1),v=r(n(9)),g=r(n(20)),y=["connectEnd","connectStart","decodedBodySize","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domainLookupEnd","domainLookupStart","duration","encodedBodySize","fetchStart","loadEventEnd","loadEventStart","redirectCount","redirectEnd","redirectStart","requestStart","responseEnd","responseStart","secureConnectionStart","transferSize","type","unloadEventEnd","unloadEventStart","workerStart","firstPaint","firstContentfulPaint","firstMeaningfulPaint"],b=function(e){if("object"!==o(e))return[];var t=e.getEntriesByType("paint"),n={};if(t.length){var r=(t.filter(function(e){return"first-paint"===e.name})[0]||{}).startTime,i=(t.filter(function(e){return"first-contentful-paint"===e.name})[0]||{}).startTime;n.firstPaint=parseFloat(r),n.firstContentfulPaint=parseFloat(i)}return n},w=[10240,51200,102400,204800,512e3],x=w.length+1,S=function(e){return"script"===e.initiatorType&&e.name.indexOf(".js")>-1},k=function(e){return"link"===e.initiatorType&&e.name.indexOf(".css")>-1},I=function(e){return"h2"===e.nextHopProtocol},P=function(e){return/^.*font.*\.svg(\?|$|#)/.test(e.name)},_=function(e){return"img"===e.initiatorType||/\.(jpg|jpeg|png|bmp|webp|svg|ico)(\?|$|#)/.test(e.name)&&!P(e)},T=function(e){return"iframe"===e.initiatorType},E=function(e){return"css"===e.initiatorType&&(/\.(ttf|eot|woff)(\?|$|#)/.test(e.name)||P(e))},O=function(e){return e.encodedBodySize<e.decodedBodySize},j=function(e){return e.encodedBodySize>e.transferSize},C=function(e){return e.workerStart},A=function(e){return e.reduce(function(e,t){return e+t.encodedBodySize},0)},L=null,B=500,N=function(e,t){return h(e),t(),e};e.exports=N},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e){return e.length<=20?e:"".concat(e.substring(0,10)).concat(e.substring(e.length-10),"|").concat(e.length-20)}var c=n(1),s=c.addEvent,u=c.storage,l=function(){function e(t){var n=this;r(this,e),this.pause=function(e){e.target===window&&(n.paused=!0,n._time_consumed+=Date.now()-n._start_timestamp)},this.resume=function(){n.paused&&(n._start_timestamp=Date.now())},this.cache=function(){var e=location.href,t=n.gettimeConsuming();u.set("residual","".concat(encodeURIComponent(e),"|").concat(t))},this._tracert_inst=t,this.paused=!1,this.start(),this.bindEventListeners()}return i(e,[{key:"start",value:function(){this._start_timestamp=Date.now(),this._time_consumed=0,this.lastClickEle=null,this.lastClickText=""}},{key:"bindEventListeners",value:function(){s("blur",window,this.pause),s("focus",window,this.resume),s("beforeunload",window,this.cache)}},{key:"gettimeConsuming",value:function(){return this.paused?this._time_consumed:this._time_consumed+(Date.now()-this._start_timestamp)}},{key:"getTime",value:function(){var e=u.get("residual",{},!0);if(!e)return null;var t=e.split("|"),n=t[0],r=t[1];try{if(decodeURIComponent(n)===this._tracert_inst.refUrl)return r}catch(e){return null}return null}}]),e}(),f=function(e,t){var n=e;n.before("logPv",function(e){var t=n.timeConsuming.getTime();t&&(e._consume=t),e._title=a(document.title),n.timeConsuming.cache(),n.timeConsuming.start()});var r=new l(n);return n.set({timeConsuming:r}),t(),n};e.exports=f},,,function(e,t){function n(e){return Math.pow(.5,e)}e.exports=function(e){var t=e.records,r=e.start,o=e.timeout,i=e.load;if(0===t.length)return"number"==typeof o?o:0;"number"==typeof i&&t.forEach(function(e){var t=e.t,r=Math.abs(parseFloat(t)-i);e.weight=n(r/1e3)});var a=t.map(function(e,n){if(0===n)return 0;var r=t[n-1];return e.domCnt===r.domCnt?0:(e.domCnt-r.domCnt)/(e.t-r.t)*("number"==typeof e.weight?e.weight:1)}),c=Math.max.apply(null,a),s=a.indexOf(c);return t[s].t-r}},function(e,t,n){function r(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():Date.now()}var o=n(9),i=n(19),a="number"==typeof __PAINTY_STACK_LIMIT__?__PAINTY_STACK_LIMIT__:100;e.exports=function(e,t){function n(){if("function"==typeof MutationObserver){var e=new MutationObserver(function(){s.push({t:r(),domCnt:document.getElementsByTagName("*").length}),s.length===a&&c()});return e.observe(document,{childList:!0,subtree:!0}),e.disconnect.bind(e)}var t=setTimeout(function(){s.push({t:r(),domCnt:document.getElementsByTagName("*").length}),s.length===a?c():n()},200);return function(){clearTimeout(t)}}function c(){if(u(),"object"==typeof o&&"function"==typeof o.getEntriesByType){var n=o.getEntriesByType("navigation");if(n&&n.length){var r=n[0],a=r.startTime;t(i({records:s,start:a,timeout:e,load:r.duration}))}}}if("object"==typeof window&&"object"==typeof o){"function"==typeof e&&(t=e);var s=[],u=n();if("number"==typeof e)setTimeout(c,e);else{var l=navigator.userAgent,f=!!l.match(/iPhone|iPad|iPod/i),d=f?"pagehide":"beforeunload";window.addEventListener(d,c)}}}}]);