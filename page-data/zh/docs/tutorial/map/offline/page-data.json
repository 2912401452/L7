{"componentChunkName":"component---node-modules-antv-gatsby-theme-antv-site-templates-document-tsx","path":"/zh/docs/tutorial/map/offline","result":{"data":{"site":{"id":"Site","siteMetadata":{"title":"L7","githubUrl":"https://github.com/antvis/L7","docs":[{"slug":"api/l7","title":{"zh":"简介 L7","en":"Introduction"},"order":0},{"slug":"api/l7stable","title":{"zh":"1.x 稳定版","en":"1.x Stable"},"order":1},{"slug":"tutorial","title":{"zh":"快速入门","en":"QuickStart"},"order":0},{"slug":"tutorial/map","title":{"zh":"地图","en":"Map"},"order":3},{"slug":"api/scene","title":{"zh":"场景 Scene","en":"Scene"},"order":1},{"slug":"api/layer","title":{"zh":"图层 Layer","en":"Layer"},"order":3},{"slug":"api/layer/point_layer","title":{"zh":"点图层","en":"PointLayer"},"order":1},{"slug":"api/layer/line_layer","title":{"zh":"线图层","en":"LineLayer"},"order":2},{"slug":"api/layer/polygon_layer","title":{"zh":"面图层","en":"PolygonLayer"},"order":3},{"slug":"api/layer/heatmap_layer","title":{"zh":"热力图","en":"HeatmapLayer"},"order":4},{"slug":"api/layer/image_layer","title":{"zh":"图片图层","en":"IMageLayer"},"order":5},{"slug":"api/layer/raster_layer","title":{"zh":"栅格图","en":"RasterLayer"},"order":6},{"slug":"api/layer/cityBuilding","title":{"zh":"城市建筑","en":"CityBuilding"},"order":8},{"slug":"api/source","title":{"zh":"数据 Source","en":"Source"},"order":2},{"slug":"api/component","title":{"zh":"组件 Component","en":"Component"},"order":4}]},"pathPrefix":""},"markdownRemark":{"id":"b40e6412-980d-5843-a900-f328f3ac0c42","html":"<p>目前L7 支持高德和Mapbox两种底图，高德地图由于使用在线API不能做的离线部署，如果你有离线部署的需求可以采用MapBox做底图。L7 在接口层统一了不同底图直接的差异，一套可视化代码可以运行在L7 支持的任意底图上。本文主要介绍如何离线使用，国内加速使用MapBox，同时也提供了在线的字体服务，你也可也下载到本地使用。</p>\n<h3 id=\"l7-如何引入mapbox\" style=\"position:relative;\"><a href=\"#l7-%E5%A6%82%E4%BD%95%E5%BC%95%E5%85%A5mapbox\" aria-label=\"l7 如何引入mapbox permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>L7 如何引入Mapbox</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Scene<span class=\"token punctuation\">,</span> LineLayer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@antv/l7'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Mapbox <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@antv/l7-maps'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> scene <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Scene</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> <span class=\"token string\">'map'</span><span class=\"token punctuation\">,</span>\n  map<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Mapbox</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    style<span class=\"token operator\">:</span> <span class=\"token string\">'dark'</span><span class=\"token punctuation\">,</span>\n    center<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">103.83735604457024</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.360253881403068</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    pitch<span class=\"token operator\">:</span> <span class=\"token number\">4.00000000000001</span><span class=\"token punctuation\">,</span>\n    zoom<span class=\"token operator\">:</span> <span class=\"token number\">10.210275860702593</span><span class=\"token punctuation\">,</span>\n    rotation<span class=\"token operator\">:</span> <span class=\"token number\">19.313180925794313</span><span class=\"token punctuation\">,</span>\n    token<span class=\"token operator\">:</span> <span class=\"token string\">'xxxx'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h3 id=\"为什么离线化\" style=\"position:relative;\"><a href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88%E7%A6%BB%E7%BA%BF%E5%8C%96\" aria-label=\"为什么离线化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>为什么离线化</h3>\n<ul>\n<li>离线部署</li>\n<li>国内加速</li>\n<li>不使用mapbox token</li>\n</ul>\n<h3 id=\"如何离线化使用mapbox\" style=\"position:relative;\"><a href=\"#%E5%A6%82%E4%BD%95%E7%A6%BB%E7%BA%BF%E5%8C%96%E4%BD%BF%E7%94%A8mapbox\" aria-label=\"如何离线化使用mapbox permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何离线化使用MapBox</h3>\n<p>你只要不使用MapBox的数据底图服务就可以离线使用，mapbox所有数据服务资源都是在style里面配置的。除了数据服务以外还有一些静态资源，这些主要是图片标注，文字标注的时候使用。</p>\n<p>mapbox本身数据资源在国外如果在国内单独部署使用，加载速度体验还是很好的</p>\n<p>我们先了解一下MapBox样式包含哪些配置项。</p>\n<h4 id=\"mapbox样式参数\" style=\"position:relative;\"><a href=\"#mapbox%E6%A0%B7%E5%BC%8F%E5%8F%82%E6%95%B0\" aria-label=\"mapbox样式参数 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mapbox样式参数</h4>\n<ul>\n<li>version：JS SDK对应版本必须为8，</li>\n<li>name：样式的命名，</li>\n<li>sprite：雪碧图，将一个地图涉及到的所有零星图标图片都包含到一张大图中。</li>\n<li>glyphs：.pbf格式的字体样式，例如微软雅黑等字体库。</li>\n<li>sources：图层的资源文件，可以支持矢量切片、栅格、dem栅格、图片、geojson、视频等格式</li>\n<li>layers：是对每个图层样式的描述，这里就是对地图样式渲染的关键，可以做定制化地图样式。</li>\n</ul>\n<p>具体参数及其api可以参考mapbox官网</p>\n<p>如果做到本地化只需要 sprite，glyphs 本地化就可以了，地图服务可以加载其他服务。</p>\n<p>如果你不需要使用MapBox数据服务，可视化层完成用L7渲染那就更简单了</p>\n<p>你只需要将MapBox的地图样式设置 <code class=\"language-text\">blank</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> scene <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Scene</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> <span class=\"token string\">'map'</span><span class=\"token punctuation\">,</span>\n  map<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Mapbox</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    style<span class=\"token operator\">:</span> <span class=\"token string\">'blank'</span><span class=\"token punctuation\">,</span>\n    center<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">103.83735604457024</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.360253881403068</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    pitch<span class=\"token operator\">:</span> <span class=\"token number\">4.00000000000001</span><span class=\"token punctuation\">,</span>\n    zoom<span class=\"token operator\">:</span> <span class=\"token number\">10.210275860702593</span><span class=\"token punctuation\">,</span>\n    rotation<span class=\"token operator\">:</span> <span class=\"token number\">19.313180925794313</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>blank 样式以为无底图样式，这种样式下就不需要使用mapbox服务，也不需要使用mapbox的token了</p>\n<p><a name=\"cGfei\"></a></p>\n<h4 id=\"本地化雪碧图\" style=\"position:relative;\"><a href=\"#%E6%9C%AC%E5%9C%B0%E5%8C%96%E9%9B%AA%E7%A2%A7%E5%9B%BE\" aria-label=\"本地化雪碧图 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>本地化雪碧图</h4>\n<p>如果你需要使用mapbox字段的图片标注，你需要本地化雪碧图资源<br />只需要下载两个文件即可<br />sprite.json 主要记录每个图表在大图上位置<br />sprite.png  每个小图标组成的大图</p>\n<p>在线雪碧图服务地址:<br /><a href=\"https://lzxue.github.io/font-glyphs/sprite/sprite\" target=\"_self\" rel=\"nofollow\">https://lzxue.github.io/font-glyphs/sprite/sprite</a></p>\n<p><a name=\"KWyGs\"></a></p>\n<h4 id=\"本地化字体\" style=\"position:relative;\"><a href=\"#%E6%9C%AC%E5%9C%B0%E5%8C%96%E5%AD%97%E4%BD%93\" aria-label=\"本地化字体 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>本地化字体</h4>\n<p> 如果需要使用mapbox文章标注功能需要本地化，如果你的渲染能力都是用L7实现的，这个过程也是不需要的。</p>\n<p>L7 提供了在线字体服务<br /> 目前支持4种字</p>\n<ul>\n<li>阿里巴巴普惠体</li>\n<li>noto</li>\n<li>opensan</li>\n<li>roboto</li>\n</ul>\n<p><em>如果你有新的字体需求可提PR，帮你自动生成在线可用的字体服务，你可以在线使用，也可以下载到本地使用。</em></p>\n<p>字体服务下载：<a href=\"https://github.com/lzxue/font-glyphs/tree/gh-pages\" target=\"_self\" rel=\"nofollow\">gh-pages分支</a> 你可以clone下来直接使用。</p>\n<p><strong>你也可以使用在线服务</strong><br />**<br />github服务<br /><a href=\"https://lzxue.github.io/font-glyphs/glyphs/%7Bfontstack%7D/%7Brange%7D.pbf\" target=\"_self\" rel=\"nofollow\">https://lzxue.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf</a><br />蚂蚁CDN：<br /><a href=\"https://gw.alipayobjects.com/os/antvdemo/assets/mapbox/glyphs/%7Bfontstack%7D/%7Brange%7D.pbf\" target=\"_self\" rel=\"nofollow\">https://gw.alipayobjects.com/os/antvdemo/assets/mapbox/glyphs/{fontstack}/{range}.pbf</a></p>\n<p><a name=\"oeqps\"></a></p>\n<h4 id=\"地图服务本地化\" style=\"position:relative;\"><a href=\"#%E5%9C%B0%E5%9B%BE%E6%9C%8D%E5%8A%A1%E6%9C%AC%E5%9C%B0%E5%8C%96\" aria-label=\"地图服务本地化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>地图服务本地化</h4>\n<p>1.加载<a href=\"https://github.com/htoooth/Leaflet.ChineseTmsProviders\" target=\"_self\" rel=\"nofollow\">第三方底图</a>，栅格瓦片图层做底图，如天地图，高德，google的栅格瓦片都可以<br />2.下载<a href=\"https://openmaptiles.com/downloads/planet/\" target=\"_self\" rel=\"nofollow\">opensteetmap </a>矢量瓦片地图做底图<br />3.自己业务数据发布底图服务，或者矢量瓦片服务。</p>\n<p><strong>这里还有个更完备的解决方案</strong><br /> <a href=\"https://jingsam.github.io/foxgis-server-lite/#/\" target=\"_self\" rel=\"nofollow\">https://jingsam.github.io/foxgis-server-lite/#/</a></p>\n<h4 id=\"\" style=\"position:relative;\"><a href=\"#\" aria-label=\" permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>所有的服务资源已经准备好了，这样我们就可以独立使用mapbox服务，不需要再申请mapbox的token了</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Scene<span class=\"token punctuation\">,</span> LineLayer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@antv/l7'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Mapbox <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@antv/l7-maps'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> scene <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Scene</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> <span class=\"token string\">'map'</span><span class=\"token punctuation\">,</span>\n  map<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Mapbox</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    style<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      version<span class=\"token operator\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span>\n      name<span class=\"token operator\">:</span> <span class=\"token string\">'blank'</span><span class=\"token punctuation\">,</span>\n      sprite<span class=\"token operator\">:</span> <span class=\"token string\">'https://lzxue.github.io/font-glyphs/sprite/sprite'</span><span class=\"token punctuation\">,</span>\n      glyphs<span class=\"token operator\">:</span>\n        <span class=\"token string\">'https://gw.alipayobjects.com/os/antvdemo/assets/mapbox/glyphs/{fontstack}/{range}.pbf'</span><span class=\"token punctuation\">,</span>\n      sources<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      layers<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          id<span class=\"token operator\">:</span> <span class=\"token string\">'background'</span><span class=\"token punctuation\">,</span>\n          type<span class=\"token operator\">:</span> <span class=\"token string\">'background'</span><span class=\"token punctuation\">,</span>\n          paint<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'background-color'</span><span class=\"token operator\">:</span> <span class=\"token string\">'white'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    center<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">103.83735604457024</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.360253881403068</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    pitch<span class=\"token operator\">:</span> <span class=\"token number\">4.00000000000001</span><span class=\"token punctuation\">,</span>\n    zoom<span class=\"token operator\">:</span> <span class=\"token number\">10.210275860702593</span><span class=\"token punctuation\">,</span>\n    rotation<span class=\"token operator\">:</span> <span class=\"token number\">19.313180925794313</span><span class=\"token punctuation\">,</span>\n    token<span class=\"token operator\">:</span> <span class=\"token string\">'xxxx'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>离线，无token使用mapbox <a href=\"https://codesandbox.io/embed/frosty-architecture-tv6uv?fontsize=14&#x26;hidenavigation=1&#x26;theme=dark\" target=\"_self\" rel=\"nofollow\">demo</a><br /><img src=\"https://cdn.nlark.com/yuque/0/2019/png/104251/1575463410498-0784ce76-743d-4cc4-8d68-964dfd010925.png#align=left&#x26;display=inline&#x26;height=514&#x26;name=image.png&#x26;originHeight=514&#x26;originWidth=824&#x26;size=156914&#x26;status=done&#x26;style=none&#x26;width=824\" alt=\"image.png\"></p>","tableOfContents":"<ul>\n<li><a href=\"/zh/docs/tutorial/map/offline/#l7-%E5%A6%82%E4%BD%95%E5%BC%95%E5%85%A5mapbox\">L7 如何引入Mapbox</a></li>\n<li><a href=\"/zh/docs/tutorial/map/offline/#%E4%B8%BA%E4%BB%80%E4%B9%88%E7%A6%BB%E7%BA%BF%E5%8C%96\">为什么离线化</a></li>\n<li>\n<p><a href=\"/zh/docs/tutorial/map/offline/#%E5%A6%82%E4%BD%95%E7%A6%BB%E7%BA%BF%E5%8C%96%E4%BD%BF%E7%94%A8mapbox\">如何离线化使用MapBox</a></p>\n<ul>\n<li><a href=\"/zh/docs/tutorial/map/offline/#mapbox%E6%A0%B7%E5%BC%8F%E5%8F%82%E6%95%B0\">Mapbox样式参数</a></li>\n<li><a href=\"/zh/docs/tutorial/map/offline/#%E6%9C%AC%E5%9C%B0%E5%8C%96%E9%9B%AA%E7%A2%A7%E5%9B%BE\">本地化雪碧图</a></li>\n<li><a href=\"/zh/docs/tutorial/map/offline/#%E6%9C%AC%E5%9C%B0%E5%8C%96%E5%AD%97%E4%BD%93\">本地化字体</a></li>\n<li><a href=\"/zh/docs/tutorial/map/offline/#%E5%9C%B0%E5%9B%BE%E6%9C%8D%E5%8A%A1%E6%9C%AC%E5%9C%B0%E5%8C%96\">地图服务本地化</a></li>\n</ul>\n</li>\n</ul>","fields":{"slug":"/zh/docs/tutorial/map/offline","readingTime":{"text":"2 min read","time":68700}},"frontmatter":{"title":"离线使用"},"parent":{"__typename":"File","id":"49414649-f60d-5e02-bb39-7df571a79b03","relativePath":"tutorial/map/offline.zh.md"}},"allMarkdownRemark":{"edges":[{"node":{"id":"0944663d-e692-5681-86ce-b796e6a6f945","fields":{"slug":"/zh/docs/api/l7"},"frontmatter":{"title":"简介","order":0}}},{"node":{"id":"25b92735-e205-5c38-86a6-1755b01675f2","fields":{"slug":"/en/docs/api/l7"},"frontmatter":{"title":"Introduction","order":0}}},{"node":{"id":"fa847e84-5800-5e88-88ee-0c11c8d906e9","fields":{"slug":"/zh/docs/tutorial/quickstart"},"frontmatter":{"title":"快速上手","order":0}}},{"node":{"id":"187f3e4b-920e-581a-9e67-d6508fee7ea7","fields":{"slug":"/en/docs/tutorial/quickstart"},"frontmatter":{"title":"QuickStart","order":0}}},{"node":{"id":"7f56204b-cb81-5bac-aeff-448e30f54f9c","fields":{"slug":"/zh/docs/api/layer/layer"},"frontmatter":{"title":"Layer","order":0}}},{"node":{"id":"c61e406c-e174-526c-939d-d05ea81162e9","fields":{"slug":"/en/docs/api/layer/layer"},"frontmatter":{"title":"Layer","order":0}}},{"node":{"id":"64313657-97bb-5521-90f3-53741255f340","fields":{"slug":"/zh/docs/tutorial/interactive/hightlight"},"frontmatter":{"title":"图层高亮","order":0}}},{"node":{"id":"67be684f-90b2-5330-9a56-5ad895858e55","fields":{"slug":"/en/docs/tutorial/map/amap"},"frontmatter":{"title":"GaodeMap BaseMap","order":0}}},{"node":{"id":"ccfff72b-c182-58ba-9da3-bc888f214477","fields":{"slug":"/zh/docs/tutorial/map/amap"},"frontmatter":{"title":"高德地图","order":0}}},{"node":{"id":"8f54f752-6fef-5a11-9d5d-c80416342a23","fields":{"slug":"/en/docs/tutorial/map/mapbox"},"frontmatter":{"title":"MapBox BaseMap","order":0}}},{"node":{"id":"4f1c826f-af08-5132-94ee-64b1612c0399","fields":{"slug":"/zh/docs/tutorial/map/mapbox"},"frontmatter":{"title":"MapBox地图","order":0}}},{"node":{"id":"0d1ff216-f5a5-56ff-ad0e-a141c67a8ccb","fields":{"slug":"/en/docs/tutorial/map/offline"},"frontmatter":{"title":"Offline","order":0}}},{"node":{"id":"b40e6412-980d-5843-a900-f328f3ac0c42","fields":{"slug":"/zh/docs/tutorial/map/offline"},"frontmatter":{"title":"离线使用","order":0}}},{"node":{"id":"312152e1-e8ee-593f-9160-e14a59455135","fields":{"slug":"/zh/docs/api/source/source"},"frontmatter":{"title":"Source","order":0}}},{"node":{"id":"cf26291b-865a-59d5-b4eb-f2f43fd53677","fields":{"slug":"/en/docs/api/source/source"},"frontmatter":{"title":"Source","order":0}}},{"node":{"id":"e3815557-489e-51ae-a5f4-364fa8d0f476","fields":{"slug":"/zh/docs/api/layer/polygon_layer/polygonlayer"},"frontmatter":{"title":"PolygonLayer","order":0}}},{"node":{"id":"634eb930-c357-57b5-92f8-17207311e8a3","fields":{"slug":"/en/docs/api/layer/polygon_layer/polygonlayer"},"frontmatter":{"title":"PolygonLayer","order":0}}},{"node":{"id":"01b02ed4-9982-56b4-a196-4c3b05354b54","fields":{"slug":"/en/docs/api/layer/point_layer/pointlayer"},"frontmatter":{"title":"PointLayer","order":0}}},{"node":{"id":"0caead1f-d517-5620-8ffc-6ef2c6dcaebd","fields":{"slug":"/zh/docs/api/layer/point_layer/pointlayer"},"frontmatter":{"title":"PointLayer","order":0}}},{"node":{"id":"f18b049c-a68e-5d07-a639-0c6caf2ee1c1","fields":{"slug":"/zh/docs/api/layer/line_layer/linelayer"},"frontmatter":{"title":"LineLayer","order":0}}},{"node":{"id":"f1cde3a9-d393-52c6-94e9-0893e59b265c","fields":{"slug":"/zh/docs/api/component/popup"},"frontmatter":{"title":"popup","order":0}}},{"node":{"id":"3236dc61-6c03-5fdc-929c-057ec39febe6","fields":{"slug":"/en/docs/api/component/popup"},"frontmatter":{"title":"popup","order":0}}},{"node":{"id":"db0da8ff-f645-53ec-9ed4-54b3e7267a05","fields":{"slug":"/en/docs/tutorial/demo"},"frontmatter":{"title":"本地运行demo","order":1}}},{"node":{"id":"d7496bcd-3f0b-57bf-accf-b1e4fecde97b","fields":{"slug":"/zh/docs/tutorial/demo"},"frontmatter":{"title":"本地运行demo","order":1}}},{"node":{"id":"ce40255f-d4b5-5ece-92b8-5cdcf37e941d","fields":{"slug":"/en/docs/api/source/geojson"},"frontmatter":{"title":"GeoJSON","order":1}}},{"node":{"id":"37f2597b-938c-5f5e-b5f1-8ffc11c4c2ea","fields":{"slug":"/zh/docs/api/source/geojson"},"frontmatter":{"title":"GeoJSON","order":1}}},{"node":{"id":"9bfe95e8-1c86-5360-8b16-492be4d82744","fields":{"slug":"/zh/docs/api/layer/polygon_layer/extrude"},"frontmatter":{"title":"3D填充图","order":1}}},{"node":{"id":"482cecbb-4657-579a-80e1-f154747273b0","fields":{"slug":"/zh/docs/api/layer/polygon_layer/fill"},"frontmatter":{"title":"填充图","order":1}}},{"node":{"id":"ba2c6986-490f-5c93-bf19-10dab4979ccf","fields":{"slug":"/en/docs/api/layer/point_layer/bubble"},"frontmatter":{"title":"气泡图","order":1}}},{"node":{"id":"8c21f5e7-fdf5-5958-9ac6-fd8f5a73de78","fields":{"slug":"/zh/docs/api/layer/point_layer/bubble"},"frontmatter":{"title":"气泡图","order":1}}},{"node":{"id":"a1cbc367-9c3b-508d-81bd-8a85ac1602b0","fields":{"slug":"/zh/docs/api/layer/heatmap_layer/grid"},"frontmatter":{"title":"网格热力图","order":1}}},{"node":{"id":"654e76ed-bac7-5e8c-b63d-64c15d695b04","fields":{"slug":"/en/docs/api/layer/heatmap_layer/normal"},"frontmatter":{"title":"经典热力图","order":1}}},{"node":{"id":"708ae752-4dbc-509b-a38c-b22a0db85a02","fields":{"slug":"/en/docs/api/layer/heatmap_layer/hexagon"},"frontmatter":{"title":"Hexagon HeatMap","order":1}}},{"node":{"id":"cb76c0e9-5539-5648-b096-46b26a55b710","fields":{"slug":"/zh/docs/api/layer/heatmap_layer/normal"},"frontmatter":{"title":"经典热力图","order":1}}},{"node":{"id":"9f88b23b-dee6-5b88-8ff8-50e5d0b3783e","fields":{"slug":"/zh/docs/api/layer/heatmap_layer/hexagon"},"frontmatter":{"title":"蜂窝热力图","order":1}}},{"node":{"id":"b6b6d68f-d525-52d1-ba49-24a348e5c351","fields":{"slug":"/zh/docs/api/layer/line_layer/arc"},"frontmatter":{"title":"弧线图","order":1}}},{"node":{"id":"6beb6610-3f0c-5124-9ee1-1876c472db16","fields":{"slug":"/en/docs/api/layer/line_layer/arc"},"frontmatter":{"title":"弧线图","order":1}}},{"node":{"id":"a8a90cc8-a86e-52f8-95dd-452a94655dc7","fields":{"slug":"/en/docs/api/layer/line_layer/path"},"frontmatter":{"title":"Path","order":1}}},{"node":{"id":"9f71cb9d-0d2a-56f5-8069-c583ca22a1cc","fields":{"slug":"/zh/docs/api/layer/line_layer/path"},"frontmatter":{"title":"路径图","order":1}}},{"node":{"id":"c1226616-8285-554b-944d-6f63839a719c","fields":{"slug":"/zh/docs/api/map"},"frontmatter":{"title":"地图 Map","order":2}}},{"node":{"id":"a28d759f-ae3b-5019-9611-c91dcdf70bd5","fields":{"slug":"/en/docs/api/map"},"frontmatter":{"title":"地图 Map","order":2}}},{"node":{"id":"91876c46-0abe-57ca-b4cc-05c2410072c4","fields":{"slug":"/en/docs/api/scene"},"frontmatter":{"title":"Scene","order":2}}},{"node":{"id":"52dd58c3-d190-550a-a02b-280eb1a2e9b1","fields":{"slug":"/zh/docs/api/scene"},"frontmatter":{"title":"场景 Scene","order":2}}},{"node":{"id":"1e108596-2d3c-527a-8743-7f746352efd3","fields":{"slug":"/zh/docs/tutorial/data"},"frontmatter":{"title":"数据","order":2}}},{"node":{"id":"ebd6036c-869a-5a4d-9766-b1cd718c8554","fields":{"slug":"/en/docs/tutorial/data"},"frontmatter":{"title":"数据","order":2}}},{"node":{"id":"19183d43-dd5b-5767-8e2b-117d564232a9","fields":{"slug":"/en/docs/tutorial/map/blankmap"},"frontmatter":{"title":"Blank BaseMap With Mapbox","order":2}}},{"node":{"id":"6cae3413-c02e-5c33-8b7d-0b84d43f8405","fields":{"slug":"/zh/docs/tutorial/map/blankmap"},"frontmatter":{"title":"使用无地图模式","order":2}}},{"node":{"id":"3f48ca6f-81bc-5df1-a6f8-ed32da7cdd76","fields":{"slug":"/en/docs/api/source/json"},"frontmatter":{"title":"JSON","order":2}}},{"node":{"id":"fb5bf9e8-02cf-5453-b423-c3583f78a164","fields":{"slug":"/zh/docs/api/source/json"},"frontmatter":{"title":"JSON","order":2}}},{"node":{"id":"47ed61ec-93e1-59cf-a1e4-f0f74a8aaf10","fields":{"slug":"/en/docs/api/layer/point_layer/scatter"},"frontmatter":{"title":"散点图","order":2}}},{"node":{"id":"5e815105-c735-5cb6-b462-dcfea8d21b7f","fields":{"slug":"/zh/docs/api/layer/point_layer/scatter"},"frontmatter":{"title":"散点图","order":2}}},{"node":{"id":"3814c923-9d86-5f0c-8975-d4d60e7a5586","fields":{"slug":"/en/docs/api/layer/line_layer/linelayer"},"frontmatter":{"title":"LineLayer","order":2}}},{"node":{"id":"b60285b2-83dc-536e-956b-00f439093315","fields":{"slug":"/en/docs/api/source/csv"},"frontmatter":{"title":"CSV","order":3}}},{"node":{"id":"4ed926ff-f59b-562d-ad75-0b4864696e3a","fields":{"slug":"/zh/docs/api/source/csv"},"frontmatter":{"title":"CSV","order":3}}},{"node":{"id":"cfb2d2c1-7d81-59bc-a7e4-6ed7a07d460c","fields":{"slug":"/en/docs/api/layer/point_layer/dot"},"frontmatter":{"title":"亮度图","order":3}}},{"node":{"id":"2aad83e9-5eb2-5b74-9e56-0c3699428bf1","fields":{"slug":"/zh/docs/api/layer/point_layer/dot"},"frontmatter":{"title":"亮度图","order":3}}},{"node":{"id":"766ffb51-1543-5772-b860-470a9a87ee5f","fields":{"slug":"/zh/docs/api/component/control"},"frontmatter":{"title":"Control","order":3}}},{"node":{"id":"806d32f6-0682-5e86-93b3-2c148a3e4f2e","fields":{"slug":"/en/docs/api/component/control"},"frontmatter":{"title":"Control","order":3}}},{"node":{"id":"3f986b1d-2517-5253-8b60-424b6fd5233e","fields":{"slug":"/en/docs/api/component/marker"},"frontmatter":{"title":"Marker","order":3}}},{"node":{"id":"5c562ead-5d33-5eaf-b0eb-0c929e077f14","fields":{"slug":"/en/docs/api/component/markerLayer"},"frontmatter":{"title":"Marker Layer","order":3}}},{"node":{"id":"5b7724c7-cd94-58c9-b036-5350653da844","fields":{"slug":"/zh/docs/api/component/markerLayer"},"frontmatter":{"title":"Marker 图层","order":3}}},{"node":{"id":"b3160ec8-bbf7-5ddb-ad5f-60e1d0b32350","fields":{"slug":"/zh/docs/api/component/marker"},"frontmatter":{"title":"Marker","order":3}}},{"node":{"id":"15b12727-d70a-5389-ab32-89a01a9dfa42","fields":{"slug":"/en/docs/api/source/image"},"frontmatter":{"title":"Image","order":4}}},{"node":{"id":"bf90db43-c4ed-5817-8644-152e15debbf2","fields":{"slug":"/zh/docs/api/source/image"},"frontmatter":{"title":"Image","order":4}}},{"node":{"id":"d83eb84c-d705-55a9-84dd-36d4f4a5a36d","fields":{"slug":"/zh/docs/api/layer/point_layer/symbol"},"frontmatter":{"title":"符号图","order":4}}},{"node":{"id":"0b917192-3347-5b88-892f-90ae3aa8e2ca","fields":{"slug":"/en/docs/api/layer/point_layer/symbol"},"frontmatter":{"title":"符号图","order":4}}},{"node":{"id":"4adaebd6-c756-54d3-93f3-a03504ac85d1","fields":{"slug":"/en/docs/api/layer/imagelayer"},"frontmatter":{"title":"ImageLayer","order":5}}},{"node":{"id":"9c5bb6f7-38bc-52ff-9e8a-82967098b0c4","fields":{"slug":"/zh/docs/api/layer/imagelayer"},"frontmatter":{"title":"图片图层","order":5}}},{"node":{"id":"f56de2e9-ace2-59dd-a78b-af3ea080ad60","fields":{"slug":"/zh/docs/api/layer/raster_layer"},"frontmatter":{"title":"栅格图层","order":5}}},{"node":{"id":"4b94bef2-fdea-5f9f-8804-418f1807a9d1","fields":{"slug":"/en/docs/api/layer/raster_layer"},"frontmatter":{"title":"Raster","order":5}}},{"node":{"id":"258c231b-9908-5161-bdfe-74642970e9fa","fields":{"slug":"/zh/docs/api/source/raster"},"frontmatter":{"title":"栅格","order":5}}},{"node":{"id":"0fc31562-0546-5336-b371-0feb959e2247","fields":{"slug":"/en/docs/api/source/raster"},"frontmatter":{"title":"Raster","order":5}}},{"node":{"id":"d43a99fe-b3bc-5b4a-9c22-770fca806aa4","fields":{"slug":"/en/docs/api/layer/point_layer/cluster"},"frontmatter":{"title":"聚合图","order":5}}},{"node":{"id":"c329c48d-138f-56e9-8c49-657fd4a1c5c9","fields":{"slug":"/zh/docs/api/layer/point_layer/cluster"},"frontmatter":{"title":"聚合图","order":5}}},{"node":{"id":"e0b5d5aa-f8b9-5dc7-b948-1011c60abfd2","fields":{"slug":"/zh/docs/api/layer/point_layer/column"},"frontmatter":{"title":"3D 柱图","order":5}}},{"node":{"id":"150268f6-54f5-57ee-ab1e-823261ccbff7","fields":{"slug":"/en/docs/api/layer/cityBuilding"},"frontmatter":{"title":"CityBuild","order":6}}},{"node":{"id":"14874906-fa28-5611-a9d0-76940cba3d2f","fields":{"slug":"/zh/docs/api/layer/cityBuilding"},"frontmatter":{"title":"城市建筑","order":6}}},{"node":{"id":"ad1da46c-e5e8-54e8-8476-bdc898c69759","fields":{"slug":"/en/docs/api/layer/point_layer/chart"},"frontmatter":{"title":"复合图表地图","order":6}}},{"node":{"id":"e4dd7731-1234-5523-b20b-7797c06eea1d","fields":{"slug":"/zh/docs/api/layer/point_layer/chart"},"frontmatter":{"title":"复合图表地图","order":6}}},{"node":{"id":"662b7b97-006d-5176-98aa-e63a2df771b7","fields":{"slug":"/en/docs/api/layer/point_layer/marker"},"frontmatter":{"title":"自定义 Marker","order":7}}},{"node":{"id":"6aba0808-a6be-54bd-a182-a781964b944d","fields":{"slug":"/zh/docs/api/layer/point_layer/marker"},"frontmatter":{"title":"自定义 Marker","order":7}}},{"node":{"id":"085d9e4a-b0bb-59d1-bad2-312824f988a2","fields":{"slug":"/zh/docs/api/l7history"},"frontmatter":{"title":"1.x 历史版本","order":9}}},{"node":{"id":"47d86245-5303-5a15-9ca8-4b602cb02aab","fields":{"slug":"/en/docs/api/l7history"},"frontmatter":{"title":"1.x history","order":9}}},{"node":{"id":"73bd23b8-c791-5932-878f-5b5aef3353d5","fields":{"slug":"/en/docs/api/changelog"},"frontmatter":{"title":"ChangeLog","order":10}}},{"node":{"id":"dd432177-e867-5d5f-b055-c5fa353c91f3","fields":{"slug":"/zh/docs/api/changelog"},"frontmatter":{"title":"发布日志","order":10}}},{"node":{"id":"117a852b-deca-5b4f-aad6-e7592fa63b1c","fields":{"slug":"/en/docs/tutorial/interactive/hightlight"},"frontmatter":{"title":"","order":null}}},{"node":{"id":"470c421e-9ec2-540b-976a-f5b9800c26fd","fields":{"slug":"/en/docs/api/layer/heatmap_layer/grid"},"frontmatter":{"title":"","order":null}}}]}},"pageContext":{}}}