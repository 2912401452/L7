import {
  Scene,
  LineLayer
} from '@antv/l7';
import {
  Mapbox
} from '@antv/l7-maps';
import {
  GaodeMap
} from "@antv/l7-maps";

let mapData = [{
  path: [
    [118.186546, 39.666597],
    [118.186546, 39.666597],
    [118.186546, 39.666597],
    [118.186546, 39.666597],
    [118.186747, 39.664297],
    [118.186751, 39.664301],
    [118.186751, 39.664301],
    [118.186751, 39.664301],
    [118.186751, 39.664301],
    [118.186751, 39.664301],
    [118.195929, 39.670589],
    [118.195929, 39.670589],
    [118.195929, 39.670589],
    [118.195929, 39.670589],
    [118.142168, 39.646454],
    [118.142168, 39.646453],
    [118.142168, 39.646453],
    [118.142168, 39.646453],
    [118.437412, 39.88825],
    [118.437412, 39.88825],
    [118.437412, 39.88825],
    [118.437412, 39.88825],
    [118.437412, 39.88825],
    [118.437412, 39.88825],
    [118.437412, 39.88825],
    [118.437412, 39.88825],
    [118.437412, 39.88825],
    [118.437412, 39.88825],
    [118.437412, 39.88825],
    [118.437412, 39.88825],
    [118.437412, 39.88825],
    [118.437412, 39.88825],
    [118.437412, 39.88825],
    [118.437412, 39.88825]
  ]
}];

let map = new Scene({
  id: "map",
  map: new GaodeMap({
    center: [118.142858, 39.674508],
    zoom: 14,
    type: "amap",
    style: "light",
    pitch: 0
  })
});
let line = new LineLayer()
  .source(mapData, {
    parser: {
      type: "json",
      coordinates: "path"
    }
  })
  .size(5, 10)
  .shape("line")
  .color("#25d8b7")
  .select({
    color: "#eb4c44",
    zIndex: 999
  })
  .animate({
    interval: 1,
    duration: 5,
    trailLength: 2
  });
map.addLayer(line);
